<!doctype html><html>
<head>
<title>노마드코더 쉽고 빠른 Go 시작하기(nomadcoders Go-for-beginners lectures)</title>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta http-equiv=x-ua-compatible content="ie=edge">
<link rel=stylesheet href=/css/bootstrap.min.css>
<link rel=stylesheet href=/css/layouts/main.css>
<link rel=stylesheet href=/css/navigators/navbar.css>
<link rel=stylesheet href=/css/plyr.css>
<link rel=stylesheet href=/css/flag-icon.min.css>
<link href="https://fonts.googleapis.com/css2?family=Muli:wght@300;400;500;600" rel=stylesheet>
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css>
<meta property="og:title" content="노마드코더 쉽고 빠른 Go 시작하기(nomadcoders Go-for-beginners lectures)">
<meta property="og:description" content="노마드코더 쉽고 빠른 Go 시작하기(nomadcoders Go-for-beginners lectures)">
<meta property="og:type" content="article">
<meta property="og:url" content="https://sangjuncha-dev.github.io/posts/programming/golang/2021-02-22-go-for-beginners-lectures/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2021-02-22T00:09:23+09:00">
<meta property="article:modified_time" content="2021-02-22T00:09:23+09:00">
<meta name=description content="노마드코더 쉽고 빠른 Go 시작하기(nomadcoders Go-for-beginners lectures)">
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/atom-one-dark.min.css>
<link rel=stylesheet href=/css/layouts/single.css>
<link rel=stylesheet href=/css/navigators/sidebar.css>
<link rel=stylesheet href=/css/style.css>
</head>
<body data-spy=scroll data-target=#TableOfContents data-offset=80>
<div class="container-fluid bg-dimmed wrapper">
<nav class="navbar navbar-expand-xl top-navbar final-navbar shadow">
<div class=container>
<button class="navbar-toggler navbar-light" id=sidebar-toggler type=button onclick=toggleSidebar()>
<span class=navbar-toggler-icon></span>
</button>
<a class=navbar-brand href=/>
Sangjun 개발 블로그</a>
<button class="navbar-toggler navbar-light" id=toc-toggler type=button onclick=toggleTOC()>
<span class=navbar-toggler-icon></span>
</button>
<div class="collapse navbar-collapse lang-selector" id=top-nav-items>
<ul class="navbar-nav ml-auto">
</ul>
</div>
</div>
</nav>
<section class=sidebar-section id=sidebar-section>
<div class=sidebar-holder>
<div class=sidebar id=sidebar>
<form class=mx-auto method=get action=/search>
<input type=text name=keyword placeholder=Search data-search id=search-box>
</form>
<div class=sidebar-tree>
<ul class=tree id=tree>
<li id=list-heading><a href=/posts data-filter=all>게시글</a></li>
<div class=subtree>
<li>
<i class="fas fa-plus-circle"></i><a href=/posts/algorithm/>algorithm</a>
<ul>
<li>
<i class="fas fa-plus-circle"></i><a href=/posts/algorithm/leetcode/>leetcode</a>
<ul>
<li><a href=/posts/algorithm/leetcode/2020-12-01-algorithm-leetcode-python-easy/ title="LeetCode Python">LeetCode Python</a></li>
</ul>
</li>
<li>
<i class="fas fa-plus-circle"></i><a href=/posts/algorithm/programmers/>programmers</a>
<ul>
<li><a href=/posts/algorithm/programmers/2020-12-15-algorithm-programmers-python-level1/ title="Programmers Python level 1">Programmers Python level 1</a></li>
<li><a href=/posts/algorithm/programmers/2020-12-22-algorithm-programmers-python-level2/ title="Programmers Python level 2">Programmers Python level 2</a></li>
</ul>
</li>
</ul>
</li>
<li>
<i class="fas fa-plus-circle"></i><a href=/posts/db/>db</a>
<ul>
<li><a href=/posts/db/2020-09-28-mariadb-command/ title=mariadb-sql-command>mariadb-sql-command</a></li>
<li><a href=/posts/db/2020-10-13-mssql-command/ title=mssql-sql-command>mssql-sql-command</a></li>
<li><a href=/posts/db/2020-09-29-postgredb-setup/ title=postgredb-setup>postgredb-setup</a></li>
<li><a href=/posts/db/2020-10-20-postgresql-command/ title=postgredb-sql-command>postgredb-sql-command</a></li>
<li><a href=/posts/db/2020-09-30-sqlcmd-guide/ title=sqlcmd-guide>sqlcmd-guide</a></li>
</ul>
</li>
<li>
<i class="fas fa-plus-circle"></i><a href=/posts/docker/>docker</a>
<ul>
<li><a href=/posts/docker/2021-04-08-docker-summary/ title="Summary Setup Windows">Summary Setup Windows</a></li>
<li><a href=/posts/docker/2021-05-06-docker-mssql2017-setup/ title="MSSQL Setup">MSSQL Setup</a></li>
<li><a href=/posts/docker/2021-04-29-docker-postgresdb-pgadmin4-setup-guide/ title="PostgreDB Pgadmin4 Setup">PostgreDB Pgadmin4 Setup</a></li>
<li><a href=/posts/docker/2021-12-21-docker-reduce-the-volume/ title="도커 경량화 이미지 만들기">도커 경량화 이미지 만들기</a></li>
</ul>
</li>
<li>
<i class="fas fa-plus-circle"></i><a href=/posts/framework/>framework</a>
<ul>
<li>
<i class="fas fa-plus-circle"></i><a href=/posts/framework/django/>django</a>
<ul>
<li><a href=/posts/framework/django/2021-04-20-django-model-to-json-response/ title="json 데이터 반환하기">json 데이터 반환하기</a></li>
<li><a href=/posts/framework/django/2021-04-07-django-models-relations-object-call/ title="Model 참조 객체 호출하기">Model 참조 객체 호출하기</a></li>
<li><a href=/posts/framework/django/2021-03-31-django-models-autoonetoonefield/ title="Models AutoOneToOneField 사용법">Models AutoOneToOneField 사용법</a></li>
<li><a href=/posts/framework/django/2021-04-06-django-queryset-object-access/ title="QuerySet 객체 접근방식 및 조회">QuerySet 객체 접근방식 및 조회</a></li>
<li><a href=/posts/framework/django/2021-06-11-django-websocket-using-channels-library-guide/ title="socketio 라이브러리 활용한 통신">socketio 라이브러리 활용한 통신</a></li>
<li><a href=/posts/framework/django/2021-04-07-django-dynamic-model-and-table-create/ title="동적 모델 및 테이블 생성">동적 모델 및 테이블 생성</a></li>
<li><a href=/posts/framework/django/2021-04-22-django-file-upload/ title="파일 업로드">파일 업로드</a></li>
</ul>
</li>
</ul>
</li>
<li>
<i class="fas fa-plus-circle"></i><a href=/posts/os/>os</a>
<ul>
<li>
<i class="fas fa-plus-circle"></i><a href=/posts/os/linux/>linux</a>
<ul>
<li><a href=/posts/os/linux/2021-01-06-linux-nfs-setting/ title="Linux NFS Setting">Linux NFS Setting</a></li>
</ul>
</li>
<li>
<i class="fas fa-plus-circle"></i><a href=/posts/os/windows/>windows</a>
<ul>
<li><a href=/posts/os/windows/2021-05-07-windows10-wsl2-guide/ title="Windows10 WSL2">Windows10 WSL2</a></li>
</ul>
</li>
</ul>
</li>
<li>
<i class="fas fa-minus-circle"></i><a class=active href=/posts/programming/>programming</a>
<ul class=active>
<li>
<i class="fas fa-minus-circle"></i><a class=active href=/posts/programming/golang/>golang</a>
<ul class=active>
<li><a href=/posts/programming/golang/2021-03-02-golang-grammar/ title="Go 언어 문법">Go 언어 문법</a></li>
<li><a href=/posts/programming/golang/2021-08-02-golang-learn-go-with-tests/ title="golang learn-go-with-tests">golang learn-go-with-tests</a></li>
<li><a href=/posts/programming/golang/2021-07-29-golang-gopacket/ title="gopacket 라이브러리 사용법">gopacket 라이브러리 사용법</a></li>
<li><a class=active href=/posts/programming/golang/2021-02-22-go-for-beginners-lectures/ title="노마드코더 쉽고 빠른 Go 시작하기">노마드코더 쉽고 빠른 Go 시작하기</a></li>
</ul>
</li>
<li>
<i class="fas fa-plus-circle"></i><a href=/posts/programming/python/>python</a>
<ul>
<li><a href=/posts/programming/python/2020-11-05-python-magic-guide/ title="libmagic 라이브러리 사용법">libmagic 라이브러리 사용법</a></li>
<li><a href=/posts/programming/python/2021-05-21-python-numpy-guide/ title="numpy 사용법">numpy 사용법</a></li>
<li><a href=/posts/programming/python/2021-05-21-python-opencv-guide/ title="opencv 사용법">opencv 사용법</a></li>
<li><a href=/posts/programming/python/2021-01-06-paramiko-scp-guide/ title="paramiko-scp 라이브러리 사용법">paramiko-scp 라이브러리 사용법</a></li>
<li><a href=/posts/programming/python/2020-11-16-pyftpdlib-guide/ title="pyftpdlib 라이브러리 사용법">pyftpdlib 라이브러리 사용법</a></li>
<li><a href=/posts/programming/python/2021-03-10-pyinstaller-guide/ title="pyinstaller 라이브러리 사용법">pyinstaller 라이브러리 사용법</a></li>
<li><a href=/posts/programming/python/2021-02-10-pyshark-library-guide/ title="pyshark 라이브러리 사용법">pyshark 라이브러리 사용법</a></li>
<li><a href=/posts/programming/python/2021-05-17-python-datastructures-and-algorithms/ title="python structures and algorithms books">python structures and algorithms books</a></li>
<li><a href=/posts/programming/python/2021-02-09-scapy-library-guide/ title="scapy 라이브러리 사용법">scapy 라이브러리 사용법</a></li>
<li><a href=/posts/programming/python/2021-06-16-python-windows10-monitoring/ title="windows10 시스템 모니터링">windows10 시스템 모니터링</a></li>
<li><a href=/posts/programming/python/2021-05-24-python-class-instance-variable-and-function-local-variable-performance/ title="변수 class vs local 처리속도차이">변수 class vs local 처리속도차이</a></li>
</ul>
</li>
</ul>
</li>
</div>
</ul>
</div>
</div>
</div>
</section>
<section class=content-section id=content-section>
<div class=content>
<div class="container p-0 read-area">
<div class="hero-area col-sm-12" id=hero-area style=background-image:url(https://sangjuncha-dev.github.io/images/default-hero.jpg)>
</div>
<div class=page-content>
<div class="author-profile ml-auto align-self-lg-center">
<img class=rounded-circle src=/images/author/author_hubdaa05e9d050aba742615dd0c3c3a3a1_51368_120x120_fit_box_3.png alt="Author Image">
<h5 class=author-name>Sangjun</h5>
<p>February 22, 2021</p>
</div>
<div class=title>
<h1>노마드코더 쉽고 빠른 Go 시작하기(nomadcoders Go-for-beginners lectures)</h1>
</div>
<div class=post-content id=post-content>
<h1 id=0-소개>0. 소개</h1>
<p>설치 환경 : Windows 10
IDE : vscode</p>
<h2 id=01-설치>0.1. 설치</h2>
<p>해당 URL에서 golang 설치파일을 다운받아 실행</p>
<ul>
<li><a href=https://golang.org/dl/>https://golang.org/dl/</a></li>
<li>설치파일에서 안내한 경로인 <code>C:\Program Files\Go</code> 폴더에 Go 설치 되었는지 확인</li>
</ul>
<h2 id=02-설정>0.2. 설정</h2>
<ol>
<li>Go Path 환경변수 확인</li>
</ol>
<ul>
<li>Go는 지정된 Go Path 디렉토리에만 저장되어야함</li>
<li>시스템 환경변수에 등록된 <code>GOPATH</code> 값 확인</li>
<li><code>%USERPROFILE%\go</code> -> <code>C:\Users\[Profle_Name]\go</code></li>
<li>해당 경로가 Go Path 환경변수로 사용되는 경로</li>
</ul>
<ol start=2>
<li>기본 설정</li>
</ol>
<ul>
<li>go 디렉토리로 이동하여 <code>bin</code>, <code>pkg</code>, <code>src</code> 디렉토리 생성</li>
<li>src 디렉토리안에 지정된 도메인 디렉토리 추가
<ul>
<li>go에서 다운받은 코드를 지정된 도메인 별로 분류하여 저장</li>
</ul>
</li>
<li>src 디렉토리안에 <code>github.com</code> 디렉토리 생성</li>
<li>github.com 디렉토리안에 깃유저별로 디렉토리 구분하여 저장</li>
<li><code>C:\Users\[Profle_Name]\go\src\github.com\[git_username]\learngo\</code> 디렉토리 생성</li>
</ul>
<ol start=3>
<li>vscode 실행</li>
</ol>
<ul>
<li>learngo 디렉토리내 <code>main.go</code> 파일 생성 후 vscode로 실행</li>
<li>vscode 우측 하단에 표시된 go 관련 Extensions 업데이트 모두 설치</li>
<li>vscode 재실행</li>
</ul>
<h1 id=1-이론>1. 이론</h1>
<h2 id=10-main-package>1.0. Main Package</h2>
<p>컴파일 되기 위해서는 main.go 파일에 코드 작성해야함</p>
<p>또한 main pkackage 와 main function 을 꼭 호출해야함</p>
<ul>
<li>go 컴파일시 맨 처음 호출되는 부분이기 때문</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>package main

func main() {

}
</code></pre></div><p>go 파일 실행 명령어</p>
<pre tabindex=0><code>go run main.go
</code></pre><h2 id=11-packages-and-imports>1.1. Packages and Imports</h2>
<p>터미널에서 문자열 출력</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;fmt&#34;</span>

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Hello World&#34;</span>)
}
</code></pre></div><p>vscode에서는 import 없이 함수를 사용해도 <code>ctrl+s</code> 저장하면 자동으로 import 코드를 추가해줌<br>
반대로 함수를 사용하지 않으면 import 코드가 사라짐</p>
<p><code>fmt</code> : formatting을 위한 package</p>
<ul>
<li>다른 package function을 export 하고 싶으면 대문자로 시작되는 function을 호출</li>
<li>소문자로 시작하는 함수는 private 함수로 외부에서 호출할 수 없음</li>
</ul>
<h2 id=12-변수와-상수variables-and-constants>1.2. 변수와 상수(Variables and Constants)</h2>
<p>const : 상수<br>
let : 변수</p>
<ul>
<li>Go 언어는 타입언어로 타입을 지정해야만 사용가능</li>
<li>정해진 타입은 수정할 수 없음</li>
<li>축약형 선언은 func 안에서만 사용가능하고 변수에만 적용</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;fmt&#34;</span>

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>name1</span> <span style=color:#66d9ef>string</span> = <span style=color:#e6db74>&#34;first&#34;</span>
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>name1</span>)

	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>name2</span> <span style=color:#66d9ef>string</span> = <span style=color:#e6db74>&#34;first&#34;</span>
	<span style=color:#a6e22e>name2</span> = <span style=color:#e6db74>&#34;second&#34;</span>
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>name2</span>)

	<span style=color:#a6e22e>name3</span> <span style=color:#f92672>:=</span> <span style=color:#e6db74>&#34;third&#34;</span>
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>name3</span>)
}
</code></pre></div><h2 id=13-함수functions>1.3. 함수(Functions)</h2>
<p>Go 언어에서 사용가능한 Type 목록</p>
<ul>
<li><a href=https://go101.org/article/type-system-overview.html>https://go101.org/article/type-system-overview.html</a></li>
<li><a href=https://golang.org/pkg/go/types/>https://golang.org/pkg/go/types/</a></li>
</ul>
<p>func에서 변수와 반환을 전달할때는 해당 변수의 타입이 무엇인지 명시해야함</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;fmt&#34;</span>

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>multiply</span>(<span style=color:#a6e22e>a</span> <span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>b</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> { <span style=color:#75715e>// (a, b int) 도 가능
</span><span style=color:#75715e></span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>b</span>
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>multiply</span>(<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>2</span>))
}
</code></pre></div><p>함수에서 여러개 변수 return 가능함</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> (
	<span style=color:#e6db74>&#34;fmt&#34;</span>
	<span style=color:#e6db74>&#34;strings&#34;</span>
)

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>lenAndUpper</span>(<span style=color:#a6e22e>name</span> <span style=color:#66d9ef>string</span>) (<span style=color:#66d9ef>int</span>, <span style=color:#66d9ef>string</span>) {
	<span style=color:#66d9ef>return</span> len(<span style=color:#a6e22e>name</span>), <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>ToUpper</span>(<span style=color:#a6e22e>name</span>)
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>totalLenght</span>, <span style=color:#a6e22e>_</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>lenAndUpper</span>(<span style=color:#e6db74>&#34;first&#34;</span>) <span style=color:#75715e>// _ 변수  무시가능
</span><span style=color:#75715e></span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>totalLenght</span>)
	<span style=color:#a6e22e>totalLenght</span>, <span style=color:#a6e22e>upperName</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>lenAndUpper</span>(<span style=color:#e6db74>&#34;first&#34;</span>)
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>totalLenght</span>, <span style=color:#a6e22e>upperName</span>)
}
</code></pre></div><p>함수에 매개변수 여러개를 전달하여 호출하기</p>
<ul>
<li>매개변수 type 앞에 &mldr;(3개) 추가</li>
<li>아래 코드 실행결과는 array 형태로 출력됨
[one two three]</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;fmt&#34;</span>

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>repeatMe</span>(<span style=color:#a6e22e>words</span> <span style=color:#f92672>...</span><span style=color:#66d9ef>string</span>) {
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>words</span>)
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>repeatMe</span>(<span style=color:#e6db74>&#34;one&#34;</span>, <span style=color:#e6db74>&#34;two&#34;</span>, <span style=color:#e6db74>&#34;three&#34;</span>)
}
</code></pre></div><p>함수 선언부분에서 return 변수명 명시하면
return 변수를 명시하지 않아도 됨</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> (
	<span style=color:#e6db74>&#34;fmt&#34;</span>
	<span style=color:#e6db74>&#34;strings&#34;</span>
)

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>lenAndUpper</span>(<span style=color:#a6e22e>name</span> <span style=color:#66d9ef>string</span>) (<span style=color:#a6e22e>lenght</span> <span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>uppercase</span> <span style=color:#66d9ef>string</span>) {
	<span style=color:#a6e22e>lenght</span> = len(<span style=color:#a6e22e>name</span>)
	<span style=color:#a6e22e>uppercase</span> = <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>ToUpper</span>(<span style=color:#a6e22e>name</span>)
	<span style=color:#66d9ef>return</span>
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>totalLenght</span>, <span style=color:#a6e22e>up</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>lenAndUpper</span>(<span style=color:#e6db74>&#34;first&#34;</span>)
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>totalLenght</span>, <span style=color:#a6e22e>up</span>)
}
</code></pre></div><p><code>defer</code> : function 실행 끝나고 추가동작 지정가능</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> (
	<span style=color:#e6db74>&#34;fmt&#34;</span>
	<span style=color:#e6db74>&#34;strings&#34;</span>
)

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>lenAndUpper</span>(<span style=color:#a6e22e>name</span> <span style=color:#66d9ef>string</span>) (<span style=color:#a6e22e>lenght</span> <span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>uppercase</span> <span style=color:#66d9ef>string</span>) {
	<span style=color:#66d9ef>defer</span> <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;I&#39;m done&#34;</span>)
	<span style=color:#a6e22e>lenght</span> = len(<span style=color:#a6e22e>name</span>)
	<span style=color:#a6e22e>uppercase</span> = <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>ToUpper</span>(<span style=color:#a6e22e>name</span>)
	<span style=color:#66d9ef>return</span>
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>totalLenght</span>, <span style=color:#a6e22e>up</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>lenAndUpper</span>(<span style=color:#e6db74>&#34;first&#34;</span>)
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>totalLenght</span>, <span style=color:#a6e22e>up</span>)
}

</code></pre></div><h2 id=14-for-range-args>1.4. for, range, args</h2>
<p><code>for</code> : loop는 for함수로만 가능<br>
<code>range</code> : array에 loop 적용 가능<br>
- range는 index를 같이 넘겨줌</p>
<p>for ~ range 사용한 loop 예시</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> (
	<span style=color:#e6db74>&#34;fmt&#34;</span>
)

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>superAdd</span>(<span style=color:#a6e22e>numbers</span> <span style=color:#f92672>...</span><span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>index</span>, <span style=color:#a6e22e>number</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>numbers</span> {
		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>index</span>, <span style=color:#a6e22e>number</span>)
	}
	<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>1</span>
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>superAdd</span>(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>6</span>)
}
</code></pre></div><p>for 사용한 loop 예시</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>superAdd</span>(<span style=color:#a6e22e>numbers</span> <span style=color:#f92672>...</span><span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; len(<span style=color:#a6e22e>numbers</span>); <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>numbers</span>[<span style=color:#a6e22e>i</span>])
	}
	<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>1</span>
}
</code></pre></div><p>for ~ range 사용한 loop 예시 2</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> (
	<span style=color:#e6db74>&#34;fmt&#34;</span>
)

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>superAdd</span>(<span style=color:#a6e22e>numbers</span> <span style=color:#f92672>...</span><span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>int</span> {
	<span style=color:#a6e22e>total</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>
	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>number</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>numbers</span> {
		<span style=color:#a6e22e>total</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>number</span>
	}
	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>total</span>
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>result</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>superAdd</span>(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>6</span>)
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>result</span>)
}
</code></pre></div><h2 id=15-if-with-a-twist>1.5. If with a Twist</h2>
<p>if 조건문 사용형식</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> (
	<span style=color:#e6db74>&#34;fmt&#34;</span>
)

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>canIDrink</span>(<span style=color:#a6e22e>age</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>bool</span> {
	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>age</span> &lt; <span style=color:#ae81ff>18</span> {
		<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>
	}
	<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span>
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>canIDrink</span>((<span style=color:#ae81ff>16</span>)))
}
</code></pre></div><p>if 문안에 조건문에서 사용할 변수를 선언하여 사용가능</p>
<ul>
<li>if-else의 조건에서만 사용하기 위해 variable을 생성한다는 의미</li>
<li>variable expression</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>canIDrink</span>(<span style=color:#a6e22e>age</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>bool</span> {
	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>koreanAge</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>age</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>; <span style=color:#a6e22e>koreanAge</span> &lt; <span style=color:#ae81ff>18</span> {
		<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>
	}
	<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span>
}
</code></pre></div><h2 id=16-switch>1.6. Switch</h2>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> (
	<span style=color:#e6db74>&#34;fmt&#34;</span>
)

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>canIDrink</span>(<span style=color:#a6e22e>age</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>bool</span> {
	<span style=color:#66d9ef>switch</span> <span style=color:#a6e22e>age</span> {
	<span style=color:#66d9ef>case</span> <span style=color:#ae81ff>10</span>:
		<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>
	<span style=color:#66d9ef>case</span> <span style=color:#ae81ff>18</span>:
		<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span>
	}
	<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>canIDrink</span>((<span style=color:#ae81ff>18</span>)))
}
</code></pre></div><p>case 구문에 조건식 작성가능</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>canIDrink</span>(<span style=color:#a6e22e>age</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>bool</span> {
	<span style=color:#66d9ef>switch</span> {
	<span style=color:#66d9ef>case</span> <span style=color:#a6e22e>age</span> &lt; <span style=color:#ae81ff>18</span>:
		<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>
	<span style=color:#66d9ef>case</span> <span style=color:#a6e22e>age</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>18</span>:
		<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span>
	<span style=color:#66d9ef>case</span> <span style=color:#ae81ff>50</span> &lt; <span style=color:#a6e22e>age</span>:
		<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>
	}
	<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>
}
</code></pre></div><p>if문과 마찬가지로 switch 전용 variable 사용가능</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>canIDrink</span>(<span style=color:#a6e22e>age</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>bool</span> {
	<span style=color:#66d9ef>switch</span> <span style=color:#a6e22e>koreanAge</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>age</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>; <span style=color:#a6e22e>koreanAge</span> {
	<span style=color:#66d9ef>case</span> <span style=color:#ae81ff>10</span>:
		<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>
	<span style=color:#66d9ef>case</span> <span style=color:#ae81ff>18</span>:
		<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>true</span>
	}
	<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>
}
</code></pre></div><h2 id=17-pointers>1.7 Pointers</h2>
<p>복사는 기본적으로 값 복사를 실행</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> (
	<span style=color:#e6db74>&#34;fmt&#34;</span>
)

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>a</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>2</span>
	<span style=color:#a6e22e>b</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>a</span>
	<span style=color:#a6e22e>a</span> = <span style=color:#ae81ff>10</span>
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>a</span>, <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>b</span>)
}
</code></pre></div><p>주소값 대입으로 여러 변수에서 같은 주소의 값 접근가능</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>a</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>2</span>
	<span style=color:#a6e22e>b</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>a</span>
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>b</span>)
}
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>a</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>2</span>
	<span style=color:#a6e22e>b</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>a</span>
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>a</span>, <span style=color:#f92672>*</span><span style=color:#a6e22e>b</span>)
}
</code></pre></div><h2 id=18-arrays-and-slices>1.8 Arrays and Slices</h2>
<p><code>array</code> : 크기를 정해서 사용하는 배열 (크기 수정 불가)</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> (
	<span style=color:#e6db74>&#34;fmt&#34;</span>
)

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>names</span> <span style=color:#f92672>:=</span> [<span style=color:#ae81ff>5</span>]<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;a&#34;</span>, <span style=color:#e6db74>&#34;b&#34;</span>, <span style=color:#e6db74>&#34;c&#34;</span>}
	<span style=color:#a6e22e>names</span>[<span style=color:#ae81ff>3</span>] = <span style=color:#e6db74>&#34;d&#34;</span>
	<span style=color:#a6e22e>names</span>[<span style=color:#ae81ff>4</span>] = <span style=color:#e6db74>&#34;e&#34;</span>
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>names</span>)
}
</code></pre></div><p><code>slices</code> : 크기를 정하지 않고 사용하는 배열 (크기 수정 가능)</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>names</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;a&#34;</span>, <span style=color:#e6db74>&#34;b&#34;</span>, <span style=color:#e6db74>&#34;c&#34;</span>}
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>names</span>)
}
</code></pre></div><p><code>append(slice, item)</code> : slice 변수에 item 추가</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>names</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;a&#34;</span>, <span style=color:#e6db74>&#34;b&#34;</span>, <span style=color:#e6db74>&#34;c&#34;</span>}
	<span style=color:#a6e22e>names</span> = append(<span style=color:#a6e22e>names</span>, <span style=color:#e6db74>&#34;d&#34;</span>)
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>names</span>)
}
</code></pre></div><h2 id=19-maps>1.9 Maps</h2>
<p>map : key, value 로 이루어진 자료형</p>
<p><code>map[string]string</code></p>
<ul>
<li>key : string 타입 선언</li>
<li>value : string 타입 선언</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> (
	<span style=color:#e6db74>&#34;fmt&#34;</span>
)

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>val</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;a&#34;</span>, <span style=color:#e6db74>&#34;age&#34;</span>: <span style=color:#e6db74>&#34;20&#34;</span>}
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>val</span>)
}
</code></pre></div><p>map, range 같이 사용가능</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>test</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;a&#34;</span>, <span style=color:#e6db74>&#34;age&#34;</span>: <span style=color:#e6db74>&#34;20&#34;</span>}
	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>key</span>, <span style=color:#a6e22e>value</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>test</span> {
		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>key</span>, <span style=color:#a6e22e>value</span>)
	}
}
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>test</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;a&#34;</span>, <span style=color:#e6db74>&#34;age&#34;</span>: <span style=color:#e6db74>&#34;20&#34;</span>}
	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>value</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>test</span> {
		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>value</span>)
	}
}
</code></pre></div><h2 id=110-structs>1.10 Structs</h2>
<p>map 자료형보다 유연함</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;fmt&#34;</span>

<span style=color:#66d9ef>type</span> <span style=color:#a6e22e>person</span> <span style=color:#66d9ef>struct</span> {
	<span style=color:#a6e22e>name</span>    <span style=color:#66d9ef>string</span>
	<span style=color:#a6e22e>age</span>     <span style=color:#66d9ef>int</span>
	<span style=color:#a6e22e>favFood</span> []<span style=color:#66d9ef>string</span>
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>favFood</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;apple&#34;</span>, <span style=color:#e6db74>&#34;bottle&#34;</span>}
	<span style=color:#a6e22e>test</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>person</span>{<span style=color:#e6db74>&#34;a&#34;</span>, <span style=color:#ae81ff>30</span>, <span style=color:#a6e22e>favFood</span>}
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;name&#34;</span>, <span style=color:#a6e22e>test</span>.<span style=color:#a6e22e>name</span>)
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;age&#34;</span>, <span style=color:#a6e22e>test</span>.<span style=color:#a6e22e>age</span>)
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;favFood&#34;</span>, <span style=color:#a6e22e>test</span>.<span style=color:#a6e22e>favFood</span>)
}
</code></pre></div><p>struct 변수 선언시 변수명도 같이 작성가능</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>favFood</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;apple&#34;</span>, <span style=color:#e6db74>&#34;bottle&#34;</span>}
	<span style=color:#a6e22e>test</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>person</span>{<span style=color:#a6e22e>name</span>: <span style=color:#e6db74>&#34;a&#34;</span>, <span style=color:#a6e22e>age</span>: <span style=color:#ae81ff>20</span>, <span style=color:#a6e22e>favFood</span>: <span style=color:#a6e22e>favFood</span>}
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;name&#34;</span>, <span style=color:#a6e22e>test</span>.<span style=color:#a6e22e>name</span>)
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;age&#34;</span>, <span style=color:#a6e22e>test</span>.<span style=color:#a6e22e>age</span>)
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;favFood&#34;</span>, <span style=color:#a6e22e>test</span>.<span style=color:#a6e22e>favFood</span>)
}

</code></pre></div><h1 id=2-bank--dictionary-projects>2. BANK & DICTIONARY PROJECTS</h1>
<h2 id=20-account--newaccount>2.0 Account + NewAccount</h2>
<p>변수명 첫글자가 <code>대문자</code>이면 public<br>
변수명 첫글자가 <code>소문자</code>이면 private</p>
<ul>
<li>private은 외부 패키지에서 접근할 수 없음</li>
</ul>
<h3 id=201-pubilc>2.0.1 pubilc</h3>
<p>main.go</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> (
	<span style=color:#e6db74>&#34;fmt&#34;</span>

	<span style=color:#e6db74>&#34;github.com/sangjuncha-dev/lectures/banking&#34;</span>
)

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>account</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>banking</span>.<span style=color:#a6e22e>Account</span>{<span style=color:#a6e22e>Owner</span>: <span style=color:#e6db74>&#34;foo&#34;</span>, <span style=color:#a6e22e>Balance</span>: <span style=color:#ae81ff>1000</span>}
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Owner : &#34;</span>, <span style=color:#a6e22e>account</span>.<span style=color:#a6e22e>Owner</span>)
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Balance : &#34;</span>, <span style=color:#a6e22e>account</span>.<span style=color:#a6e22e>Balance</span>)
}
</code></pre></div><p>banking/banking.go</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>banking</span>

<span style=color:#75715e>// Account struct
</span><span style=color:#75715e></span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Account</span> <span style=color:#66d9ef>struct</span> {
	<span style=color:#a6e22e>Owner</span>   <span style=color:#66d9ef>string</span>
	<span style=color:#a6e22e>Balance</span> <span style=color:#66d9ef>int</span>
}
</code></pre></div><p><code>no required module provides package /lectures/banking</code></p>
<p>위와 같은 에러 발생시 아래의 명령어로 mod 파일 생성 및 빌드 진행후 다시 go run 실행</p>
<ul>
<li>go.mod 파일은 모듈의 루트에 존재</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>go mod init
go build
</code></pre></div><h3 id=202-private>2.0.2 private</h3>
<p>외부 패키지에서 account 정보 수정하지 못하도록 private 방식으로 코드 수정</p>
<p>main.go</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> (
	<span style=color:#e6db74>&#34;fmt&#34;</span>

	<span style=color:#e6db74>&#34;github.com/sangjuncha-dev/lectures/accounts&#34;</span>
)

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>account</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>accounts</span>.<span style=color:#a6e22e>NewAccount</span>(<span style=color:#e6db74>&#34;foo&#34;</span>)
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;account : &#34;</span>, <span style=color:#a6e22e>account</span>)
}
</code></pre></div><p>생성한 object 주소를 return</p>
<ul>
<li>이미 만들어진 object를 반환하기 위함</li>
<li>결과값만 저장한 변수를 새로 만들지 않음</li>
</ul>
<p>accounts/accounts.go</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>accounts</span>

<span style=color:#75715e>// Account struct
</span><span style=color:#75715e></span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Account</span> <span style=color:#66d9ef>struct</span> {
	<span style=color:#a6e22e>owner</span>   <span style=color:#66d9ef>string</span>
	<span style=color:#a6e22e>balance</span> <span style=color:#66d9ef>int</span>
}

<span style=color:#75715e>// NewAccount creates Account
</span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>NewAccount</span>(<span style=color:#a6e22e>owner</span> <span style=color:#66d9ef>string</span>) <span style=color:#f92672>*</span><span style=color:#a6e22e>Account</span> {
	<span style=color:#a6e22e>account</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>Account</span>{<span style=color:#a6e22e>owner</span>: <span style=color:#a6e22e>owner</span>, <span style=color:#a6e22e>balance</span>: <span style=color:#ae81ff>0</span>}
	<span style=color:#66d9ef>return</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>account</span>
}
</code></pre></div><h2 id=21-methods>2.1 Methods</h2>
<h3 id=211-receivermethod-설정>2.1.1 receiver(method 설정)</h3>
<p><code>a Account</code> : receiver에서 접근할 struct의 첫 글자를 따서 변수명을 소문자로 지어야함</p>
<ul>
<li>해당 Account 정보는 복사한 정보</li>
</ul>
<p>accounts/accounts.go</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>accounts</span>

<span style=color:#75715e>// Account struct
</span><span style=color:#75715e></span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Account</span> <span style=color:#66d9ef>struct</span> {
	<span style=color:#a6e22e>owner</span>   <span style=color:#66d9ef>string</span>
	<span style=color:#a6e22e>balance</span> <span style=color:#66d9ef>int</span>
}

<span style=color:#75715e>// NewAccount creates Account
</span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>NewAccount</span>(<span style=color:#a6e22e>owner</span> <span style=color:#66d9ef>string</span>) <span style=color:#f92672>*</span><span style=color:#a6e22e>Account</span> {
	<span style=color:#a6e22e>account</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>Account</span>{<span style=color:#a6e22e>owner</span>: <span style=color:#a6e22e>owner</span>, <span style=color:#a6e22e>balance</span>: <span style=color:#ae81ff>0</span>}
	<span style=color:#66d9ef>return</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>account</span>
}

<span style=color:#75715e>// Deposit x amount on your account 
</span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>a</span> <span style=color:#a6e22e>Account</span>) <span style=color:#a6e22e>Deposit</span>(<span style=color:#a6e22e>amount</span> <span style=color:#66d9ef>int</span>) {
	<span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>balance</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>amount</span>
}
</code></pre></div><h3 id=212-pointer-receiver>2.1.2 Pointer receiver</h3>
<p>Deposit method 호출한 account 주소 사용</p>
<p>accounts/accounts.go</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>...</span>

<span style=color:#75715e>// NewAccount creates Account
</span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>NewAccount</span>(<span style=color:#a6e22e>owner</span> <span style=color:#66d9ef>string</span>) <span style=color:#f92672>*</span><span style=color:#a6e22e>Account</span> {
	<span style=color:#a6e22e>account</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>Account</span>{<span style=color:#a6e22e>owner</span>: <span style=color:#a6e22e>owner</span>, <span style=color:#a6e22e>balance</span>: <span style=color:#ae81ff>0</span>}
	<span style=color:#66d9ef>return</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>account</span>
}
</code></pre></div><h3 id=213-error-handling>2.1.3 error handling</h3>
<p>error 반환 유형 2가지</p>
<ul>
<li><code>return errors.New()</code></li>
<li><code>nil</code></li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>...</span>
<span style=color:#75715e>// Withdraw x amount from your account
</span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>a</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Account</span>) <span style=color:#a6e22e>Withdraw</span>(<span style=color:#a6e22e>amount</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>error</span> {
	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>balance</span> &lt; <span style=color:#a6e22e>amount</span> {
		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>errors</span>.<span style=color:#a6e22e>New</span>(<span style=color:#e6db74>&#34;Cant&#39;t withdraw you are poor&#34;</span>)
	}
	<span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>balance</span> <span style=color:#f92672>-=</span> <span style=color:#a6e22e>amount</span>
	<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
}
</code></pre></div><p>main.go 실행 결과 Withdraw error가 반환됨</p>
<ul>
<li><code>log.Fatalln(err)</code> : 에러구문 출력 후 프로그램 종료</li>
<li><code>fmt.Println(err)</code> : 에러구문 출력</li>
</ul>
<p>main.go</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> (
	<span style=color:#e6db74>&#34;fmt&#34;</span>

	<span style=color:#e6db74>&#34;github.com/sangjuncha-dev/lectures/accounts&#34;</span>
)

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>account</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>accounts</span>.<span style=color:#a6e22e>NewAccount</span>(<span style=color:#e6db74>&#34;foo&#34;</span>)
	<span style=color:#a6e22e>account</span>.<span style=color:#a6e22e>Deposit</span>(<span style=color:#ae81ff>10</span>)
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;account : &#34;</span>, <span style=color:#a6e22e>account</span>)
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;balance : &#34;</span>, <span style=color:#a6e22e>account</span>.<span style=color:#a6e22e>Balance</span>())
	<span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>account</span>.<span style=color:#a6e22e>Withdraw</span>(<span style=color:#ae81ff>20</span>)
	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
		<span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>Fatalln</span>(<span style=color:#a6e22e>err</span>)
	}
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;balance : &#34;</span>, <span style=color:#a6e22e>account</span>.<span style=color:#a6e22e>Balance</span>())
}

</code></pre></div><p>에러구문을 별도의 변수로 선언하여 사용가능</p>
<ul>
<li>에러 변수명은 <code>err~</code> 식으로 선언해야함</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>...</span>

<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>errNoMoney</span> = <span style=color:#a6e22e>errors</span>.<span style=color:#a6e22e>New</span>(<span style=color:#e6db74>&#34;Can&#39;t withdraw&#34;</span>)

<span style=color:#f92672>...</span>

<span style=color:#75715e>// Withdraw x amount from your account
</span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>a</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Account</span>) <span style=color:#a6e22e>Withdraw</span>(<span style=color:#a6e22e>amount</span> <span style=color:#66d9ef>int</span>) <span style=color:#66d9ef>error</span> {
	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>balance</span> &lt; <span style=color:#a6e22e>amount</span> {
		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>errNoMoney</span>
	}
	<span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>balance</span> <span style=color:#f92672>-=</span> <span style=color:#a6e22e>amount</span>
	<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
}
</code></pre></div><h2 id=22-finishing-up>2.2 Finishing Up</h2>
<p>Go에서 struct 사용시 내부적으로 호출해주는 method</p>
<ul>
<li><code>String</code> : struct 출력시 실행되는 method</li>
</ul>
<p>method는 struct, type 에 추가할 수 있음</p>
<p>main.go</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> (
	<span style=color:#e6db74>&#34;fmt&#34;</span>

	<span style=color:#e6db74>&#34;github.com/sangjuncha-dev/lectures/accounts&#34;</span>
)

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>account</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>accounts</span>.<span style=color:#a6e22e>NewAccount</span>(<span style=color:#e6db74>&#34;foo&#34;</span>)
	<span style=color:#a6e22e>account</span>.<span style=color:#a6e22e>Deposit</span>(<span style=color:#ae81ff>10</span>)
	<span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>account</span>.<span style=color:#a6e22e>Withdraw</span>(<span style=color:#ae81ff>20</span>)
	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>err</span>)
	}
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;account : &#34;</span>, <span style=color:#a6e22e>account</span>.<span style=color:#a6e22e>Owner</span>(), <span style=color:#e6db74>&#34;, balance : &#34;</span>, <span style=color:#a6e22e>account</span>.<span style=color:#a6e22e>Balance</span>())
}
</code></pre></div><p>accounts/accounts.go</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>...</span>

<span style=color:#75715e>// ChangeOwner of the account
</span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>a</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Account</span>) <span style=color:#a6e22e>ChangeOwner</span>(<span style=color:#a6e22e>newOnwer</span> <span style=color:#66d9ef>string</span>) {
	<span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>owner</span> = <span style=color:#a6e22e>newOnwer</span>
}

<span style=color:#75715e>// Owner of the account
</span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>a</span> <span style=color:#a6e22e>Account</span>) <span style=color:#a6e22e>Owner</span>() <span style=color:#66d9ef>string</span> {
	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>owner</span>
}

<span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>a</span> <span style=color:#a6e22e>Account</span>) <span style=color:#a6e22e>String</span>() <span style=color:#66d9ef>string</span> {
	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Sprint</span>(<span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>Owner</span>(), <span style=color:#e6db74>&#34;&#39;s account.\nHas: &#34;</span>, <span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>Balance</span>())
}
</code></pre></div><h2 id=23-dictionary>2.3 Dictionary</h2>
<p>type Dictionary는 <code>map[string]string</code>자료형의 별명(alias)이다.</p>
<p>mydict/mydict.go</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>mydict</span>

<span style=color:#75715e>// Dictionary type
</span><span style=color:#75715e></span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Dictionary</span> <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>string</span>
</code></pre></div><p>main.go</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> (
	<span style=color:#e6db74>&#34;fmt&#34;</span>

	<span style=color:#e6db74>&#34;github.com/sangjuncha-dev/lectures/mydict&#34;</span>
)

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>dictionary</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>mydict</span>.<span style=color:#a6e22e>Dictionary</span>{}
	<span style=color:#a6e22e>dictionary</span>[<span style=color:#e6db74>&#34;hello&#34;</span>] = <span style=color:#e6db74>&#34;foo&#34;</span>
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>dictionary</span>)
}
</code></pre></div><h3 id=231-search>2.3.1 Search</h3>
<p>dictionary 와 method 사용</p>
<p>Search method 추가</p>
<p>mydict/mydict.go</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>mydict</span>

<span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;errors&#34;</span>

<span style=color:#75715e>// Dictionary type
</span><span style=color:#75715e></span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Dictionary</span> <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>string</span>

<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>errNotFound</span> = <span style=color:#a6e22e>errors</span>.<span style=color:#a6e22e>New</span>(<span style=color:#e6db74>&#34;Not Found&#34;</span>)

<span style=color:#75715e>// Search for a word
</span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>d</span> <span style=color:#a6e22e>Dictionary</span>) <span style=color:#a6e22e>Search</span>(<span style=color:#a6e22e>word</span> <span style=color:#66d9ef>string</span>) (<span style=color:#66d9ef>string</span>, <span style=color:#66d9ef>error</span>) {
	<span style=color:#a6e22e>value</span>, <span style=color:#a6e22e>exists</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>d</span>[<span style=color:#a6e22e>word</span>]
	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>exists</span> {
		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>value</span>, <span style=color:#66d9ef>nil</span>
	}
	<span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;&#34;</span>, <span style=color:#a6e22e>errNotFound</span>
}
</code></pre></div><p>main.go</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> (
	<span style=color:#e6db74>&#34;fmt&#34;</span>

	<span style=color:#e6db74>&#34;github.com/sangjuncha-dev/lectures/mydict&#34;</span>
)

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>dictionary</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>mydict</span>.<span style=color:#a6e22e>Dictionary</span>{<span style=color:#e6db74>&#34;first&#34;</span>: <span style=color:#e6db74>&#34;First word&#34;</span>}
	<span style=color:#a6e22e>definition</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>dictionary</span>.<span style=color:#a6e22e>Search</span>(<span style=color:#e6db74>&#34;second&#34;</span>)
	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>err</span>)
	} <span style=color:#66d9ef>else</span> {
		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>definition</span>)
	}
}
</code></pre></div><h3 id=232-add>2.3.2 Add</h3>
<p>Add method 추가</p>
<p>mydict/mydict.go</p>
<p>if문 형식</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>errWordExists</span> = <span style=color:#a6e22e>erros</span>.<span style=color:#a6e22e>New</span>(<span style=color:#e6db74>&#34;That word already exists&#34;</span>)
<span style=color:#f92672>...</span>

<span style=color:#75715e>// Add a word to the dictionary
</span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>d</span> <span style=color:#a6e22e>Dictionary</span>) <span style=color:#a6e22e>Add</span>(<span style=color:#a6e22e>word</span>, <span style=color:#a6e22e>def</span> <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
	<span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>d</span>.<span style=color:#a6e22e>Search</span>(<span style=color:#a6e22e>word</span>)
	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>==</span> <span style=color:#a6e22e>errNotFound</span> {
		<span style=color:#a6e22e>d</span>[<span style=color:#a6e22e>word</span>] = <span style=color:#a6e22e>def</span>
	} <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>==</span> <span style=color:#66d9ef>nil</span> {
		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>errWordExists</span>
	}
	<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
}
</code></pre></div><p>switch문 형식</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#75715e>// Add a word to the dictionary
</span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>d</span> <span style=color:#a6e22e>Dictionary</span>) <span style=color:#a6e22e>Add</span>(<span style=color:#a6e22e>word</span>, <span style=color:#a6e22e>def</span> <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
	<span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>d</span>.<span style=color:#a6e22e>Search</span>(<span style=color:#a6e22e>word</span>)
	<span style=color:#66d9ef>switch</span> <span style=color:#a6e22e>err</span> {
	<span style=color:#66d9ef>case</span> <span style=color:#a6e22e>errNotFound</span>:
		<span style=color:#a6e22e>d</span>[<span style=color:#a6e22e>word</span>] = <span style=color:#a6e22e>def</span>
	<span style=color:#66d9ef>case</span> <span style=color:#66d9ef>nil</span>:
		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>errWordExists</span>
	}
	<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
}
</code></pre></div><p>main.go</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> (
	<span style=color:#e6db74>&#34;fmt&#34;</span>

	<span style=color:#e6db74>&#34;github.com/sangjuncha-dev/lectures/mydict&#34;</span>
)

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>dictionary</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>mydict</span>.<span style=color:#a6e22e>Dictionary</span>{}
	<span style=color:#a6e22e>word</span> <span style=color:#f92672>:=</span> <span style=color:#e6db74>&#34;hello&#34;</span>
	<span style=color:#a6e22e>definition</span> <span style=color:#f92672>:=</span> <span style=color:#e6db74>&#34;Greeting&#34;</span>
	<span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>dictionary</span>.<span style=color:#a6e22e>Add</span>(<span style=color:#a6e22e>word</span>, <span style=color:#a6e22e>definition</span>)
	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>err</span>)
	}
	<span style=color:#a6e22e>hello</span>, <span style=color:#a6e22e>_</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>dictionary</span>.<span style=color:#a6e22e>Search</span>(<span style=color:#a6e22e>word</span>)
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;found :&#34;</span>, <span style=color:#a6e22e>word</span>, <span style=color:#e6db74>&#34;, definition :&#34;</span>, <span style=color:#a6e22e>hello</span>)
	<span style=color:#a6e22e>err2</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>dictionary</span>.<span style=color:#a6e22e>Add</span>(<span style=color:#a6e22e>word</span>, <span style=color:#a6e22e>definition</span>)
	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err2</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>err2</span>)
	}
}
</code></pre></div><h3 id=233-update-delete>2.3.3 Update Delete</h3>
<p>Update method 추가</p>
<p>main.go</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> (
	<span style=color:#e6db74>&#34;fmt&#34;</span>

	<span style=color:#e6db74>&#34;github.com/sangjuncha-dev/lectures/mydict&#34;</span>
)

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>dictionary</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>mydict</span>.<span style=color:#a6e22e>Dictionary</span>{}
	<span style=color:#a6e22e>baseWord</span> <span style=color:#f92672>:=</span> <span style=color:#e6db74>&#34;hello&#34;</span>
	<span style=color:#a6e22e>dictionary</span>.<span style=color:#a6e22e>Add</span>(<span style=color:#a6e22e>baseWord</span>, <span style=color:#e6db74>&#34;First&#34;</span>)
	<span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>dictionary</span>.<span style=color:#a6e22e>Update</span>(<span style=color:#a6e22e>baseWord</span>, <span style=color:#e6db74>&#34;Second&#34;</span>)
	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>err</span>)
	}
	<span style=color:#a6e22e>word</span>, <span style=color:#a6e22e>_</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>dictionary</span>.<span style=color:#a6e22e>Search</span>(<span style=color:#a6e22e>baseWord</span>)
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>word</span>)
}
</code></pre></div><p>mydict/mydict.go</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#66d9ef>var</span> (
	<span style=color:#a6e22e>errNotFound</span>   = <span style=color:#a6e22e>errors</span>.<span style=color:#a6e22e>New</span>(<span style=color:#e6db74>&#34;Not Found&#34;</span>)
	<span style=color:#a6e22e>errCantUpdate</span> = <span style=color:#a6e22e>errors</span>.<span style=color:#a6e22e>New</span>(<span style=color:#e6db74>&#34;Cant update non-existing word&#34;</span>)
	<span style=color:#a6e22e>errWordExists</span> = <span style=color:#a6e22e>errors</span>.<span style=color:#a6e22e>New</span>(<span style=color:#e6db74>&#34;That word already exists&#34;</span>)
)

<span style=color:#f92672>...</span>

<span style=color:#75715e>// Update a word
</span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>d</span> <span style=color:#a6e22e>Dictionary</span>) <span style=color:#a6e22e>Update</span>(<span style=color:#a6e22e>word</span>, <span style=color:#a6e22e>definition</span> <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
	<span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>d</span>.<span style=color:#a6e22e>Search</span>(<span style=color:#a6e22e>word</span>)
	<span style=color:#66d9ef>switch</span> <span style=color:#a6e22e>err</span> {
	<span style=color:#66d9ef>case</span> <span style=color:#66d9ef>nil</span>:
		<span style=color:#a6e22e>d</span>[<span style=color:#a6e22e>word</span>] = <span style=color:#a6e22e>definition</span>
	<span style=color:#66d9ef>case</span> <span style=color:#a6e22e>errNotFound</span>:
		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>errCantUpdate</span>
	}
	<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
}
</code></pre></div><p>Delete method 추가</p>
<p>main.go</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> (
	<span style=color:#e6db74>&#34;fmt&#34;</span>

	<span style=color:#e6db74>&#34;github.com/sangjuncha-dev/lectures/mydict&#34;</span>
)

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>dictionary</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>mydict</span>.<span style=color:#a6e22e>Dictionary</span>{}
	<span style=color:#a6e22e>baseWord</span> <span style=color:#f92672>:=</span> <span style=color:#e6db74>&#34;hello&#34;</span>
	<span style=color:#a6e22e>dictionary</span>.<span style=color:#a6e22e>Add</span>(<span style=color:#a6e22e>baseWord</span>, <span style=color:#e6db74>&#34;First&#34;</span>)
	<span style=color:#a6e22e>dictionary</span>.<span style=color:#a6e22e>Search</span>(<span style=color:#a6e22e>baseWord</span>)
	<span style=color:#a6e22e>dictionary</span>.<span style=color:#a6e22e>Delete</span>(<span style=color:#a6e22e>baseWord</span>)
	<span style=color:#a6e22e>word</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>dictionary</span>.<span style=color:#a6e22e>Search</span>(<span style=color:#a6e22e>baseWord</span>)
	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>err</span>)
	} <span style=color:#66d9ef>else</span> {
		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>word</span>)
	}
}
</code></pre></div><p>mydict/mydict.go</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>...</span>

<span style=color:#75715e>// Delete a word
</span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>d</span> <span style=color:#a6e22e>Dictionary</span>) <span style=color:#a6e22e>Delete</span>(<span style=color:#a6e22e>word</span> <span style=color:#66d9ef>string</span>) {
	delete(<span style=color:#a6e22e>d</span>, <span style=color:#a6e22e>word</span>)
}
</code></pre></div><h1 id=3-url-checker--go-routines>3. URL CHECKER & GO ROUTINES</h1>
<h2 id=30-hiturl>3.0 hitURL</h2>
<p>hit : 인터넷 웹 서버의 파일 1개에 접속하는것을 뜻함</p>
<p>request 사용을 위해 내장 library <code>http</code> 사용</p>
<p>main.go</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> (
	<span style=color:#e6db74>&#34;errors&#34;</span>
	<span style=color:#e6db74>&#34;fmt&#34;</span>
	<span style=color:#e6db74>&#34;net/http&#34;</span>
)

<span style=color:#66d9ef>var</span> (
	<span style=color:#a6e22e>errRequestFailed</span> = <span style=color:#a6e22e>errors</span>.<span style=color:#a6e22e>New</span>(<span style=color:#e6db74>&#34;Request failed&#34;</span>)
)

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>urls</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>string</span>{
		<span style=color:#e6db74>&#34;https://www.airbnb.com/&#34;</span>,
		<span style=color:#e6db74>&#34;https://www.google.com/&#34;</span>,
		<span style=color:#e6db74>&#34;https://www.amazon.com/&#34;</span>,
		<span style=color:#e6db74>&#34;https://www.reddit.com/&#34;</span>,
		<span style=color:#e6db74>&#34;https://soundcloud.com/&#34;</span>,
		<span style=color:#e6db74>&#34;https://www.facebook.com&#34;</span>,
		<span style=color:#e6db74>&#34;https://www.instagram.com/&#34;</span>,
		<span style=color:#e6db74>&#34;https://academy.nomadcoders.co/&#34;</span>,
	}
	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>url</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>urls</span> {
		<span style=color:#a6e22e>hitURL</span>(<span style=color:#a6e22e>url</span>)
	}
	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>url</span>, <span style=color:#a6e22e>result</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>results</span> {
		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>url</span>, <span style=color:#a6e22e>result</span>)
	}
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>hitURL</span>(<span style=color:#a6e22e>url</span> <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Chacking :&#34;</span>, <span style=color:#a6e22e>url</span>)
	<span style=color:#a6e22e>resp</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>url</span>)
	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> <span style=color:#f92672>||</span> <span style=color:#ae81ff>400</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>resp</span>.<span style=color:#a6e22e>StatusCode</span> {
		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>errRequestFailed</span>
	}
	<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
}
</code></pre></div><h2 id=31-slow-urlchecker>3.1 Slow URLChecker</h2>
<p>panic : 컴파일러가 못찾은 에러</p>
<p>map 자료형은 초기화 안 하면 값을 넣을 수 없음</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>results</span> <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>string</span>
<span style=color:#a6e22e>results</span>[<span style=color:#e6db74>&#34;hello&#34;</span>] = <span style=color:#e6db74>&#34;Hello&#34;</span>
</code></pre></div><p>map 자료형은 빈 값으로 초기화 선언해야 값을 넣을 수 있음</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>results</span> = <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>string</span>{}
<span style=color:#a6e22e>results</span>[<span style=color:#e6db74>&#34;hello&#34;</span>] = <span style=color:#e6db74>&#34;Hello&#34;</span>
</code></pre></div><p><code>make()</code> : empty map 만들고 초기화 해주는 함수</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>results</span> = make(<span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>string</span>)
</code></pre></div><p>main.go</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> (
	<span style=color:#e6db74>&#34;errors&#34;</span>
	<span style=color:#e6db74>&#34;fmt&#34;</span>
	<span style=color:#e6db74>&#34;net/http&#34;</span>
)

<span style=color:#66d9ef>var</span> (
	<span style=color:#a6e22e>errRequestFailed</span> = <span style=color:#a6e22e>errors</span>.<span style=color:#a6e22e>New</span>(<span style=color:#e6db74>&#34;Request failed&#34;</span>)
)

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>results</span> = make(<span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>string</span>)
	<span style=color:#a6e22e>urls</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>string</span>{
		<span style=color:#e6db74>&#34;https://www.airbnb.com/&#34;</span>,
		<span style=color:#e6db74>&#34;https://www.google.com/&#34;</span>,
		<span style=color:#e6db74>&#34;https://www.amazon.com/&#34;</span>,
		<span style=color:#e6db74>&#34;https://www.reddit.com/&#34;</span>,
		<span style=color:#e6db74>&#34;https://soundcloud.com/&#34;</span>,
		<span style=color:#e6db74>&#34;https://www.facebook.com&#34;</span>,
		<span style=color:#e6db74>&#34;https://www.instagram.com/&#34;</span>,
		<span style=color:#e6db74>&#34;https://academy.nomadcoders.co/&#34;</span>,
	}
	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>url</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>urls</span> {
		<span style=color:#a6e22e>result</span> <span style=color:#f92672>:=</span> <span style=color:#e6db74>&#34;OK&#34;</span>
		<span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>hitURL</span>(<span style=color:#a6e22e>url</span>)
		<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
			<span style=color:#a6e22e>result</span> = <span style=color:#e6db74>&#34;FAILED&#34;</span>
		}
		<span style=color:#a6e22e>results</span>[<span style=color:#a6e22e>url</span>] = <span style=color:#a6e22e>result</span>
	}
	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>url</span>, <span style=color:#a6e22e>result</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>results</span> {
		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>url</span>, <span style=color:#a6e22e>result</span>)
	}
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>hitURL</span>(<span style=color:#a6e22e>url</span> <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Chacking :&#34;</span>, <span style=color:#a6e22e>url</span>)
	<span style=color:#a6e22e>resp</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>url</span>)
	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> <span style=color:#f92672>||</span> <span style=color:#ae81ff>400</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>resp</span>.<span style=color:#a6e22e>StatusCode</span> {
		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>err</span>, <span style=color:#a6e22e>resp</span>.<span style=color:#a6e22e>StatusCode</span>)
		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>errRequestFailed</span>
	}
	<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
}

</code></pre></div><p>status code</p>
<ul>
<li>401 : Unauthorized</li>
<li>429 : Too Many Requests</li>
</ul>
<h2 id=32-goroutines>3.2 Goroutines</h2>
<p>Top-down 방식의 프로그래밍</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> (
	<span style=color:#e6db74>&#34;fmt&#34;</span>
	<span style=color:#e6db74>&#34;time&#34;</span>
)

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>myCount</span>(<span style=color:#e6db74>&#34;foo&#34;</span>)
	<span style=color:#a6e22e>myCount</span>(<span style=color:#e6db74>&#34;bar&#34;</span>)
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>myCount</span>(<span style=color:#a6e22e>person</span> <span style=color:#66d9ef>string</span>) {
	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#ae81ff>10</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>person</span>, <span style=color:#e6db74>&#34;is number :&#34;</span>, <span style=color:#a6e22e>i</span>)
		<span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Sleep</span>(<span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Second</span>)
	}
}
</code></pre></div><p><code>Goroutines</code> : 다른 함수와 동시에 실행시키는 함수</p>
<ul>
<li>Goroutines은 프로그램이 작동하는 동안만 실행</li>
</ul>
<p>main 함수 부분에서 go 루틴사용시 함수가 끝나기전에 main함수가 끝나면 프로그램이 종료되므로 main함수가 끝나지 않게 만든 상태에서 go 루틴 사용해야함</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> (
	<span style=color:#e6db74>&#34;fmt&#34;</span>
	<span style=color:#e6db74>&#34;time&#34;</span>
)

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#66d9ef>go</span> <span style=color:#a6e22e>myCount</span>(<span style=color:#e6db74>&#34;foo&#34;</span>)
	<span style=color:#66d9ef>go</span> <span style=color:#a6e22e>myCount</span>(<span style=color:#e6db74>&#34;bar&#34;</span>)
	<span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Sleep</span>(<span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Second</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>5</span>)
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>myCount</span>(<span style=color:#a6e22e>person</span> <span style=color:#66d9ef>string</span>) {
	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#ae81ff>10</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>person</span>, <span style=color:#e6db74>&#34;is number :&#34;</span>, <span style=color:#a6e22e>i</span>)
		<span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Sleep</span>(<span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Second</span>)
	}
}
</code></pre></div><h2 id=33-channels>3.3 Channels</h2>
<p><code>Channel</code></p>
<ul>
<li><code>goroutine</code>과 <code>main</code>함수 사이에 정보를 전달하기 위한 방법</li>
<li><code>goroutine</code>에서 다른 <code>goroutine</code>으로 커뮤니케이션</li>
<li>채널을 통해서 데이터를 받거나 보낼 수 있음</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> (
	<span style=color:#e6db74>&#34;fmt&#34;</span>
	<span style=color:#e6db74>&#34;time&#34;</span>
)

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>c</span> <span style=color:#f92672>:=</span> make(<span style=color:#66d9ef>chan</span> <span style=color:#66d9ef>bool</span>)
	<span style=color:#a6e22e>people</span> <span style=color:#f92672>:=</span> [<span style=color:#ae81ff>2</span>]<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;foo&#34;</span>, <span style=color:#e6db74>&#34;bar&#34;</span>}
	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>person</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>people</span> {
		<span style=color:#66d9ef>go</span> <span style=color:#a6e22e>isMy</span>(<span style=color:#a6e22e>person</span>, <span style=color:#a6e22e>c</span>)
	}
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#f92672>&lt;-</span><span style=color:#a6e22e>c</span>)
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#f92672>&lt;-</span><span style=color:#a6e22e>c</span>)
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>isMy</span>(<span style=color:#a6e22e>person</span> <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>c</span> <span style=color:#66d9ef>chan</span> <span style=color:#66d9ef>bool</span>) {
	<span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Sleep</span>(<span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Second</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>5</span>)
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>person</span>)
	<span style=color:#a6e22e>c</span> <span style=color:#f92672>&lt;-</span> <span style=color:#66d9ef>true</span>
}
</code></pre></div><h2 id=34-channels-recap>3.4 Channels Recap</h2>
<p>blocking operation : 해당 작업이 끝날때까지 멈춤</p>
<ul>
<li><code>&lt;-c</code> : 채널로부터 메세지를 얻음</li>
<li>하나의 메세지를 받으면 다음 라인으로 넘어감</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> (
	<span style=color:#e6db74>&#34;fmt&#34;</span>
	<span style=color:#e6db74>&#34;time&#34;</span>
)

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>c</span> <span style=color:#f92672>:=</span> make(<span style=color:#66d9ef>chan</span> <span style=color:#66d9ef>string</span>)
	<span style=color:#a6e22e>people</span> <span style=color:#f92672>:=</span> [<span style=color:#ae81ff>2</span>]<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;foo&#34;</span>, <span style=color:#e6db74>&#34;bar&#34;</span>}
	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>person</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>people</span> {
		<span style=color:#66d9ef>go</span> <span style=color:#a6e22e>isMy</span>(<span style=color:#a6e22e>person</span>, <span style=color:#a6e22e>c</span>)
	}
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Waiting for message&#34;</span>)
	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; len(<span style=color:#a6e22e>people</span>); <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Print</span>(<span style=color:#e6db74>&#34;waiting for &#34;</span>, <span style=color:#a6e22e>i</span>, <span style=color:#e6db74>&#34; &#34;</span>)
		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#f92672>&lt;-</span><span style=color:#a6e22e>c</span>)
	}
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>isMy</span>(<span style=color:#a6e22e>person</span> <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>c</span> <span style=color:#66d9ef>chan</span> <span style=color:#66d9ef>string</span>) {
	<span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Sleep</span>(<span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Second</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>5</span>)
	<span style=color:#a6e22e>c</span> <span style=color:#f92672>&lt;-</span> <span style=color:#a6e22e>person</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34; is OK&#34;</span>
}
</code></pre></div><ol>
<li>채널의 메세지를 받는것 == blocking operation</li>
<li>채널을 통해서 보내는 부분과 받는 부분 모두 타입 지정해야함</li>
</ol>
<h2 id=35-urlchecker--go-routines>3.5 URLChecker + Go Routines</h2>
<p><code>c chan&lt;-</code> : Send Only(보내기만 가능)</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> (
	<span style=color:#e6db74>&#34;errors&#34;</span>
	<span style=color:#e6db74>&#34;fmt&#34;</span>
	<span style=color:#e6db74>&#34;net/http&#34;</span>
)

<span style=color:#66d9ef>type</span> <span style=color:#a6e22e>requestResult</span> <span style=color:#66d9ef>struct</span> {
	<span style=color:#a6e22e>url</span>    <span style=color:#66d9ef>string</span>
	<span style=color:#a6e22e>status</span> <span style=color:#66d9ef>string</span>
}

<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>errRequestFailed</span> = <span style=color:#a6e22e>errors</span>.<span style=color:#a6e22e>New</span>(<span style=color:#e6db74>&#34;Request failed&#34;</span>)

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>results</span> = make(<span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>string</span>)
	<span style=color:#a6e22e>c</span> <span style=color:#f92672>:=</span> make(<span style=color:#66d9ef>chan</span> <span style=color:#a6e22e>requestResult</span>)
	<span style=color:#a6e22e>urls</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>string</span>{
		<span style=color:#e6db74>&#34;https://www.airbnb.com/&#34;</span>,
		<span style=color:#e6db74>&#34;https://www.google.com/&#34;</span>,
		<span style=color:#e6db74>&#34;https://www.amazon.com/&#34;</span>,
		<span style=color:#e6db74>&#34;https://www.reddit.com/&#34;</span>,
		<span style=color:#e6db74>&#34;https://soundcloud.com/&#34;</span>,
		<span style=color:#e6db74>&#34;https://www.facebook.com&#34;</span>,
		<span style=color:#e6db74>&#34;https://www.instagram.com/&#34;</span>,
		<span style=color:#e6db74>&#34;https://academy.nomadcoders.co/&#34;</span>,
	}
	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>url</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>urls</span> {
		<span style=color:#66d9ef>go</span> <span style=color:#a6e22e>hitURL</span>(<span style=color:#a6e22e>url</span>, <span style=color:#a6e22e>c</span>)
	}
	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; len(<span style=color:#a6e22e>urls</span>); <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
		<span style=color:#a6e22e>result</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&lt;-</span><span style=color:#a6e22e>c</span>
		<span style=color:#a6e22e>results</span>[<span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>url</span>] = <span style=color:#a6e22e>result</span>.<span style=color:#a6e22e>status</span>
	}
	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>url</span>, <span style=color:#a6e22e>status</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>results</span> {
		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>url</span>, <span style=color:#a6e22e>status</span>)
	}
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>hitURL</span>(<span style=color:#a6e22e>url</span> <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>c</span> <span style=color:#66d9ef>chan</span><span style=color:#f92672>&lt;-</span> <span style=color:#a6e22e>requestResult</span>) {
	<span style=color:#a6e22e>resp</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>url</span>)
	<span style=color:#a6e22e>status</span> <span style=color:#f92672>:=</span> <span style=color:#e6db74>&#34;OK&#34;</span>
	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> <span style=color:#f92672>||</span> <span style=color:#ae81ff>400</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>resp</span>.<span style=color:#a6e22e>StatusCode</span> {
		<span style=color:#a6e22e>status</span> = <span style=color:#e6db74>&#34;FAILED&#34;</span>
	}
	<span style=color:#a6e22e>c</span> <span style=color:#f92672>&lt;-</span> <span style=color:#a6e22e>requestResult</span>{<span style=color:#a6e22e>url</span>: <span style=color:#a6e22e>url</span>, <span style=color:#a6e22e>status</span>: <span style=color:#a6e22e>status</span>}
}
</code></pre></div><h1 id=4-job-scrapper>4. JOB SCRAPPER</h1>
<h2 id=40-getpages>4.0 getPages</h2>
<p>라이브러리 설치</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>go get github.com/PuerkitoBio/goquery
</code></pre></div><p>goquery Doc URL</p>
<ul>
<li><a href=https://github.com/PuerkitoBio/goquery>https://github.com/PuerkitoBio/goquery</a></li>
<li><a href=https://pkg.go.dev/github.com/PuerkitoBio/goquery>https://pkg.go.dev/github.com/PuerkitoBio/goquery</a></li>
</ul>
<p>strconv : 타입 변환 라이브러리</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> (
	<span style=color:#e6db74>&#34;fmt&#34;</span>
	<span style=color:#e6db74>&#34;log&#34;</span>
	<span style=color:#e6db74>&#34;net/http&#34;</span>
	<span style=color:#e6db74>&#34;strconv&#34;</span>

	<span style=color:#e6db74>&#34;github.com/PuerkitoBio/goquery&#34;</span>
)

<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>baseURL</span> <span style=color:#66d9ef>string</span> = <span style=color:#e6db74>&#34;https://kr.indeed.com/jobs?q=python&amp;limit=50&#34;</span>

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>totalPages</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>getPages</span>()
	<span style=color:#75715e>// fmt.Println(totalPages)
</span><span style=color:#75715e></span>
	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>totalPages</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
		<span style=color:#a6e22e>getPage</span>(<span style=color:#a6e22e>i</span>)
	}
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>getPage</span>(<span style=color:#a6e22e>page</span> <span style=color:#66d9ef>int</span>) {
	<span style=color:#a6e22e>pageURL</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>baseURL</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;&amp;start=&#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>strconv</span>.<span style=color:#a6e22e>Itoa</span>(<span style=color:#a6e22e>page</span><span style=color:#f92672>*</span><span style=color:#ae81ff>50</span>)
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Requesting :&#34;</span>, <span style=color:#a6e22e>pageURL</span>)
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>getPages</span>() <span style=color:#66d9ef>int</span> {
	<span style=color:#a6e22e>pages</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>
	<span style=color:#a6e22e>res</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>baseURL</span>)
	<span style=color:#a6e22e>checkErr</span>(<span style=color:#a6e22e>err</span>)
	<span style=color:#a6e22e>checkCode</span>(<span style=color:#a6e22e>res</span>)

	<span style=color:#66d9ef>defer</span> <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>Body</span>.<span style=color:#a6e22e>Close</span>()

	<span style=color:#a6e22e>doc</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>goquery</span>.<span style=color:#a6e22e>NewDocumentFromReader</span>(<span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>Body</span>)
	<span style=color:#a6e22e>checkErr</span>(<span style=color:#a6e22e>err</span>)

	<span style=color:#a6e22e>doc</span>.<span style=color:#a6e22e>Find</span>(<span style=color:#e6db74>&#34;.pagination&#34;</span>).<span style=color:#a6e22e>Each</span>(<span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>i</span> <span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>s</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>goquery</span>.<span style=color:#a6e22e>Selection</span>) {
		<span style=color:#75715e>// fmt.Println(s.Html())
</span><span style=color:#75715e></span>		<span style=color:#a6e22e>pages</span> = <span style=color:#a6e22e>s</span>.<span style=color:#a6e22e>Find</span>(<span style=color:#e6db74>&#34;a&#34;</span>).<span style=color:#a6e22e>Length</span>()
	})

	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>pages</span>
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>checkErr</span>(<span style=color:#a6e22e>err</span> <span style=color:#66d9ef>error</span>) {
	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
		<span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>Fatalln</span>(<span style=color:#a6e22e>err</span>)
	}
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>checkCode</span>(<span style=color:#a6e22e>res</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>Response</span>) {
	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>StatusCode</span> <span style=color:#f92672>!=</span> <span style=color:#ae81ff>200</span> {
		<span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>Fatalln</span>(<span style=color:#e6db74>&#34;Request failed with Status :&#34;</span>, <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>StatusCode</span>)
	}
}
</code></pre></div><h2 id=41-extractjob>4.1 extractJob</h2>
<p>strings.TrimSpace(str) : 문자열 양쪽 끝 공백 제거</p>
<p>strings.Fields(str) : 문자열 배열형태로 반환</p>
<p>strings.Join([]string, " &ldquo;) : 문자열 배열을 " &ldquo;으로 합쳐서 문자열 변환</p>
<p>append(slice1, slice2) : slice1배열 안의 원소로 slice2 추가</p>
<p>append(slice1, slice2&mldr;) : 두개의 배열을 하나의 배열로 합치기</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> (
	<span style=color:#e6db74>&#34;fmt&#34;</span>
	<span style=color:#e6db74>&#34;log&#34;</span>
	<span style=color:#e6db74>&#34;net/http&#34;</span>
	<span style=color:#e6db74>&#34;strconv&#34;</span>
	<span style=color:#e6db74>&#34;strings&#34;</span>

	<span style=color:#e6db74>&#34;github.com/PuerkitoBio/goquery&#34;</span>
)

<span style=color:#66d9ef>type</span> <span style=color:#a6e22e>extractedJob</span> <span style=color:#66d9ef>struct</span> {
	<span style=color:#a6e22e>id</span>       <span style=color:#66d9ef>string</span>
	<span style=color:#a6e22e>title</span>    <span style=color:#66d9ef>string</span>
	<span style=color:#a6e22e>location</span> <span style=color:#66d9ef>string</span>
	<span style=color:#a6e22e>salary</span>   <span style=color:#66d9ef>string</span>
	<span style=color:#a6e22e>summary</span>  <span style=color:#66d9ef>string</span>
}

<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>baseURL</span> <span style=color:#66d9ef>string</span> = <span style=color:#e6db74>&#34;https://kr.indeed.com/jobs?q=python&amp;limit=50&#34;</span>

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>jobs</span> []<span style=color:#a6e22e>extractedJob</span>
	<span style=color:#a6e22e>totalPages</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>getPages</span>()

	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>totalPages</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
		<span style=color:#a6e22e>extractedJobs</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>getPage</span>(<span style=color:#a6e22e>i</span>)
		<span style=color:#a6e22e>jobs</span> = append(<span style=color:#a6e22e>jobs</span>, <span style=color:#a6e22e>extractedJobs</span><span style=color:#f92672>...</span>)
	}
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>jobs</span>)
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>getPage</span>(<span style=color:#a6e22e>page</span> <span style=color:#66d9ef>int</span>) []<span style=color:#a6e22e>extractedJob</span> {
	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>jobs</span> []<span style=color:#a6e22e>extractedJob</span>
	<span style=color:#a6e22e>pageURL</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>baseURL</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;&amp;start=&#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>strconv</span>.<span style=color:#a6e22e>Itoa</span>(<span style=color:#a6e22e>page</span><span style=color:#f92672>*</span><span style=color:#ae81ff>50</span>)
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Requesting :&#34;</span>, <span style=color:#a6e22e>pageURL</span>)
	<span style=color:#a6e22e>res</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>pageURL</span>)
	<span style=color:#a6e22e>checkErr</span>(<span style=color:#a6e22e>err</span>)
	<span style=color:#a6e22e>checkCode</span>(<span style=color:#a6e22e>res</span>)

	<span style=color:#66d9ef>defer</span> <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>Body</span>.<span style=color:#a6e22e>Close</span>()

	<span style=color:#a6e22e>doc</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>goquery</span>.<span style=color:#a6e22e>NewDocumentFromReader</span>(<span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>Body</span>)
	<span style=color:#a6e22e>checkErr</span>(<span style=color:#a6e22e>err</span>)

	<span style=color:#a6e22e>searchCards</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>doc</span>.<span style=color:#a6e22e>Find</span>(<span style=color:#e6db74>&#34;.jobsearch-SerpJobCard&#34;</span>)
	<span style=color:#a6e22e>searchCards</span>.<span style=color:#a6e22e>Each</span>(<span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>i</span> <span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>card</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>goquery</span>.<span style=color:#a6e22e>Selection</span>) {
		<span style=color:#a6e22e>job</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>extractJob</span>(<span style=color:#a6e22e>card</span>)
		<span style=color:#a6e22e>jobs</span> = append(<span style=color:#a6e22e>jobs</span>, <span style=color:#a6e22e>job</span>)
	})

	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>jobs</span>
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>extractJob</span>(<span style=color:#a6e22e>card</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>goquery</span>.<span style=color:#a6e22e>Selection</span>) <span style=color:#a6e22e>extractedJob</span> {
	<span style=color:#a6e22e>id</span>, <span style=color:#a6e22e>_</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>card</span>.<span style=color:#a6e22e>Attr</span>(<span style=color:#e6db74>&#34;data-jk&#34;</span>)
	<span style=color:#a6e22e>title</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>cleanString</span>(<span style=color:#a6e22e>card</span>.<span style=color:#a6e22e>Find</span>(<span style=color:#e6db74>&#34;.title&gt;a&#34;</span>).<span style=color:#a6e22e>Text</span>())
	<span style=color:#a6e22e>location</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>cleanString</span>(<span style=color:#a6e22e>card</span>.<span style=color:#a6e22e>Find</span>(<span style=color:#e6db74>&#34;.sjcl&#34;</span>).<span style=color:#a6e22e>Text</span>())
	<span style=color:#a6e22e>salary</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>cleanString</span>(<span style=color:#a6e22e>card</span>.<span style=color:#a6e22e>Find</span>(<span style=color:#e6db74>&#34;.salaryText&#34;</span>).<span style=color:#a6e22e>Text</span>())
	<span style=color:#a6e22e>summary</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>cleanString</span>(<span style=color:#a6e22e>card</span>.<span style=color:#a6e22e>Find</span>(<span style=color:#e6db74>&#34;.summary&#34;</span>).<span style=color:#a6e22e>Text</span>())
	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>extractedJob</span>{
		<span style=color:#a6e22e>id</span>:       <span style=color:#a6e22e>id</span>,
		<span style=color:#a6e22e>title</span>:    <span style=color:#a6e22e>title</span>,
		<span style=color:#a6e22e>location</span>: <span style=color:#a6e22e>location</span>,
		<span style=color:#a6e22e>salary</span>:   <span style=color:#a6e22e>salary</span>,
		<span style=color:#a6e22e>summary</span>:  <span style=color:#a6e22e>summary</span>,
	}
}

<span style=color:#75715e>// card 데이터에서 공백 제거
</span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>cleanString</span>(<span style=color:#a6e22e>str</span> <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>string</span> {
	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>Join</span>(<span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>Fields</span>(<span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>TrimSpace</span>(<span style=color:#a6e22e>str</span>)), <span style=color:#e6db74>&#34; &#34;</span>)
}

<span style=color:#75715e>// 전체 페이지수 얻기
</span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>getPages</span>() <span style=color:#66d9ef>int</span> {
	<span style=color:#a6e22e>pages</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>
	<span style=color:#a6e22e>res</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>baseURL</span>)
	<span style=color:#a6e22e>checkErr</span>(<span style=color:#a6e22e>err</span>)
	<span style=color:#a6e22e>checkCode</span>(<span style=color:#a6e22e>res</span>)

	<span style=color:#66d9ef>defer</span> <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>Body</span>.<span style=color:#a6e22e>Close</span>()

	<span style=color:#a6e22e>doc</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>goquery</span>.<span style=color:#a6e22e>NewDocumentFromReader</span>(<span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>Body</span>)
	<span style=color:#a6e22e>checkErr</span>(<span style=color:#a6e22e>err</span>)

	<span style=color:#a6e22e>doc</span>.<span style=color:#a6e22e>Find</span>(<span style=color:#e6db74>&#34;.pagination&#34;</span>).<span style=color:#a6e22e>Each</span>(<span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>i</span> <span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>s</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>goquery</span>.<span style=color:#a6e22e>Selection</span>) {
		<span style=color:#a6e22e>pages</span> = <span style=color:#a6e22e>s</span>.<span style=color:#a6e22e>Find</span>(<span style=color:#e6db74>&#34;a&#34;</span>).<span style=color:#a6e22e>Length</span>()
	})

	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>pages</span>
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>checkErr</span>(<span style=color:#a6e22e>err</span> <span style=color:#66d9ef>error</span>) {
	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
		<span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>Fatalln</span>(<span style=color:#a6e22e>err</span>)
	}
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>checkCode</span>(<span style=color:#a6e22e>res</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>Response</span>) {
	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>StatusCode</span> <span style=color:#f92672>!=</span> <span style=color:#ae81ff>200</span> {
		<span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>Fatalln</span>(<span style=color:#e6db74>&#34;Request failed with Status :&#34;</span>, <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>StatusCode</span>)
	}
}
</code></pre></div><h2 id=42-writing-jobs>4.2 Writing Jobs</h2>
<p>encoding/csv : csv 관련 패키지</p>
<p>w.Write([]string) : 파일 버퍼에 기록</p>
<p>defer w.Flush() : 함수가 끝나는 시점에 파일에 데이터를 작성하는 함수</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> (
	<span style=color:#e6db74>&#34;encoding/csv&#34;</span>
	<span style=color:#e6db74>&#34;fmt&#34;</span>
	<span style=color:#e6db74>&#34;log&#34;</span>
	<span style=color:#e6db74>&#34;net/http&#34;</span>
	<span style=color:#e6db74>&#34;os&#34;</span>
	<span style=color:#e6db74>&#34;strconv&#34;</span>
	<span style=color:#e6db74>&#34;strings&#34;</span>

	<span style=color:#e6db74>&#34;github.com/PuerkitoBio/goquery&#34;</span>
)

<span style=color:#66d9ef>type</span> <span style=color:#a6e22e>extractedJob</span> <span style=color:#66d9ef>struct</span> {
	<span style=color:#a6e22e>id</span>       <span style=color:#66d9ef>string</span>
	<span style=color:#a6e22e>title</span>    <span style=color:#66d9ef>string</span>
	<span style=color:#a6e22e>location</span> <span style=color:#66d9ef>string</span>
	<span style=color:#a6e22e>salary</span>   <span style=color:#66d9ef>string</span>
	<span style=color:#a6e22e>summary</span>  <span style=color:#66d9ef>string</span>
}

<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>baseURL</span> <span style=color:#66d9ef>string</span> = <span style=color:#e6db74>&#34;https://kr.indeed.com/jobs?q=python&amp;limit=50&#34;</span>

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>jobs</span> []<span style=color:#a6e22e>extractedJob</span>
	<span style=color:#a6e22e>totalPages</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>getPages</span>()

	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>totalPages</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
		<span style=color:#a6e22e>extractedJobs</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>getPage</span>(<span style=color:#a6e22e>i</span>)
		<span style=color:#a6e22e>jobs</span> = append(<span style=color:#a6e22e>jobs</span>, <span style=color:#a6e22e>extractedJobs</span><span style=color:#f92672>...</span>)
	}

	<span style=color:#a6e22e>writeJons</span>(<span style=color:#a6e22e>jobs</span>)
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Done, extracted&#34;</span>, len(<span style=color:#a6e22e>jobs</span>))
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>writeJons</span>(<span style=color:#a6e22e>jobs</span> []<span style=color:#a6e22e>extractedJob</span>) {
	<span style=color:#a6e22e>file</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>os</span>.<span style=color:#a6e22e>Create</span>(<span style=color:#e6db74>&#34;jobs.csv&#34;</span>)
	<span style=color:#a6e22e>checkErr</span>(<span style=color:#a6e22e>err</span>)

	<span style=color:#a6e22e>w</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>csv</span>.<span style=color:#a6e22e>NewWriter</span>(<span style=color:#a6e22e>file</span>)
	<span style=color:#66d9ef>defer</span> <span style=color:#a6e22e>w</span>.<span style=color:#a6e22e>Flush</span>()

	<span style=color:#a6e22e>headers</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;Link&#34;</span>, <span style=color:#e6db74>&#34;Title&#34;</span>, <span style=color:#e6db74>&#34;Location&#34;</span>, <span style=color:#e6db74>&#34;Salary&#34;</span>, <span style=color:#e6db74>&#34;Summary&#34;</span>}

	<span style=color:#a6e22e>wErr</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>w</span>.<span style=color:#a6e22e>Write</span>(<span style=color:#a6e22e>headers</span>)
	<span style=color:#a6e22e>checkErr</span>(<span style=color:#a6e22e>wErr</span>)

	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>job</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>jobs</span> {
		<span style=color:#a6e22e>jobSclice</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;https://kr.indeed.com/viewjob?jk=&#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>job</span>.<span style=color:#a6e22e>id</span>, <span style=color:#a6e22e>job</span>.<span style=color:#a6e22e>title</span>, <span style=color:#a6e22e>job</span>.<span style=color:#a6e22e>location</span>, <span style=color:#a6e22e>job</span>.<span style=color:#a6e22e>salary</span>, <span style=color:#a6e22e>job</span>.<span style=color:#a6e22e>summary</span>}
		<span style=color:#a6e22e>jwErr</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>w</span>.<span style=color:#a6e22e>Write</span>(<span style=color:#a6e22e>jobSclice</span>)
		<span style=color:#a6e22e>checkErr</span>(<span style=color:#a6e22e>jwErr</span>)
	}
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>getPage</span>(<span style=color:#a6e22e>page</span> <span style=color:#66d9ef>int</span>) []<span style=color:#a6e22e>extractedJob</span> {
	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>jobs</span> []<span style=color:#a6e22e>extractedJob</span>
	<span style=color:#a6e22e>pageURL</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>baseURL</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;&amp;start=&#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>strconv</span>.<span style=color:#a6e22e>Itoa</span>(<span style=color:#a6e22e>page</span><span style=color:#f92672>*</span><span style=color:#ae81ff>50</span>)
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Requesting :&#34;</span>, <span style=color:#a6e22e>pageURL</span>)
	<span style=color:#a6e22e>res</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>pageURL</span>)
	<span style=color:#a6e22e>checkErr</span>(<span style=color:#a6e22e>err</span>)
	<span style=color:#a6e22e>checkCode</span>(<span style=color:#a6e22e>res</span>)

	<span style=color:#66d9ef>defer</span> <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>Body</span>.<span style=color:#a6e22e>Close</span>()

	<span style=color:#a6e22e>doc</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>goquery</span>.<span style=color:#a6e22e>NewDocumentFromReader</span>(<span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>Body</span>)
	<span style=color:#a6e22e>checkErr</span>(<span style=color:#a6e22e>err</span>)

	<span style=color:#a6e22e>searchCards</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>doc</span>.<span style=color:#a6e22e>Find</span>(<span style=color:#e6db74>&#34;.jobsearch-SerpJobCard&#34;</span>)
	<span style=color:#a6e22e>searchCards</span>.<span style=color:#a6e22e>Each</span>(<span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>i</span> <span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>card</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>goquery</span>.<span style=color:#a6e22e>Selection</span>) {
		<span style=color:#a6e22e>job</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>extractJob</span>(<span style=color:#a6e22e>card</span>)
		<span style=color:#a6e22e>jobs</span> = append(<span style=color:#a6e22e>jobs</span>, <span style=color:#a6e22e>job</span>)
	})

	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>jobs</span>
}

<span style=color:#75715e>// 카드에서 일자리 정보 추출
</span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>extractJob</span>(<span style=color:#a6e22e>card</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>goquery</span>.<span style=color:#a6e22e>Selection</span>) <span style=color:#a6e22e>extractedJob</span> {
	<span style=color:#a6e22e>id</span>, <span style=color:#a6e22e>_</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>card</span>.<span style=color:#a6e22e>Attr</span>(<span style=color:#e6db74>&#34;data-jk&#34;</span>)
	<span style=color:#a6e22e>title</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>cleanString</span>(<span style=color:#a6e22e>card</span>.<span style=color:#a6e22e>Find</span>(<span style=color:#e6db74>&#34;.title&gt;a&#34;</span>).<span style=color:#a6e22e>Text</span>())
	<span style=color:#a6e22e>location</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>cleanString</span>(<span style=color:#a6e22e>card</span>.<span style=color:#a6e22e>Find</span>(<span style=color:#e6db74>&#34;.sjcl&#34;</span>).<span style=color:#a6e22e>Text</span>())
	<span style=color:#a6e22e>salary</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>cleanString</span>(<span style=color:#a6e22e>card</span>.<span style=color:#a6e22e>Find</span>(<span style=color:#e6db74>&#34;.salaryText&#34;</span>).<span style=color:#a6e22e>Text</span>())
	<span style=color:#a6e22e>summary</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>cleanString</span>(<span style=color:#a6e22e>card</span>.<span style=color:#a6e22e>Find</span>(<span style=color:#e6db74>&#34;.summary&#34;</span>).<span style=color:#a6e22e>Text</span>())
	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>extractedJob</span>{
		<span style=color:#a6e22e>id</span>:       <span style=color:#a6e22e>id</span>,
		<span style=color:#a6e22e>title</span>:    <span style=color:#a6e22e>title</span>,
		<span style=color:#a6e22e>location</span>: <span style=color:#a6e22e>location</span>,
		<span style=color:#a6e22e>salary</span>:   <span style=color:#a6e22e>salary</span>,
		<span style=color:#a6e22e>summary</span>:  <span style=color:#a6e22e>summary</span>,
	}
}

<span style=color:#75715e>// 데이터에서 공백 제거
</span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>cleanString</span>(<span style=color:#a6e22e>str</span> <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>string</span> {
	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>Join</span>(<span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>Fields</span>(<span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>TrimSpace</span>(<span style=color:#a6e22e>str</span>)), <span style=color:#e6db74>&#34; &#34;</span>)
}

<span style=color:#75715e>// 전체 페이지수 얻기
</span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>getPages</span>() <span style=color:#66d9ef>int</span> {
	<span style=color:#a6e22e>pages</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>
	<span style=color:#a6e22e>res</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>baseURL</span>)
	<span style=color:#a6e22e>checkErr</span>(<span style=color:#a6e22e>err</span>)
	<span style=color:#a6e22e>checkCode</span>(<span style=color:#a6e22e>res</span>)

	<span style=color:#66d9ef>defer</span> <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>Body</span>.<span style=color:#a6e22e>Close</span>()

	<span style=color:#a6e22e>doc</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>goquery</span>.<span style=color:#a6e22e>NewDocumentFromReader</span>(<span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>Body</span>)
	<span style=color:#a6e22e>checkErr</span>(<span style=color:#a6e22e>err</span>)

	<span style=color:#a6e22e>doc</span>.<span style=color:#a6e22e>Find</span>(<span style=color:#e6db74>&#34;.pagination&#34;</span>).<span style=color:#a6e22e>Each</span>(<span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>i</span> <span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>s</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>goquery</span>.<span style=color:#a6e22e>Selection</span>) {
		<span style=color:#a6e22e>pages</span> = <span style=color:#a6e22e>s</span>.<span style=color:#a6e22e>Find</span>(<span style=color:#e6db74>&#34;a&#34;</span>).<span style=color:#a6e22e>Length</span>()
	})

	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>pages</span>
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>checkErr</span>(<span style=color:#a6e22e>err</span> <span style=color:#66d9ef>error</span>) {
	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
		<span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>Fatalln</span>(<span style=color:#a6e22e>err</span>)
	}
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>checkCode</span>(<span style=color:#a6e22e>res</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>Response</span>) {
	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>StatusCode</span> <span style=color:#f92672>!=</span> <span style=color:#ae81ff>200</span> {
		<span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>Fatalln</span>(<span style=color:#e6db74>&#34;Request failed with Status :&#34;</span>, <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>StatusCode</span>)
	}
}
</code></pre></div><h2 id=43-channels-time>4.3 Channels Time</h2>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> (
	<span style=color:#e6db74>&#34;encoding/csv&#34;</span>
	<span style=color:#e6db74>&#34;fmt&#34;</span>
	<span style=color:#e6db74>&#34;log&#34;</span>
	<span style=color:#e6db74>&#34;net/http&#34;</span>
	<span style=color:#e6db74>&#34;os&#34;</span>
	<span style=color:#e6db74>&#34;strconv&#34;</span>
	<span style=color:#e6db74>&#34;strings&#34;</span>

	<span style=color:#e6db74>&#34;github.com/PuerkitoBio/goquery&#34;</span>
)

<span style=color:#66d9ef>type</span> <span style=color:#a6e22e>extractedJob</span> <span style=color:#66d9ef>struct</span> {
	<span style=color:#a6e22e>id</span>       <span style=color:#66d9ef>string</span>
	<span style=color:#a6e22e>title</span>    <span style=color:#66d9ef>string</span>
	<span style=color:#a6e22e>location</span> <span style=color:#66d9ef>string</span>
	<span style=color:#a6e22e>salary</span>   <span style=color:#66d9ef>string</span>
	<span style=color:#a6e22e>summary</span>  <span style=color:#66d9ef>string</span>
}

<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>baseURL</span> <span style=color:#66d9ef>string</span> = <span style=color:#e6db74>&#34;https://kr.indeed.com/jobs?q=python&amp;limit=50&#34;</span>

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>jobs</span> []<span style=color:#a6e22e>extractedJob</span>
	<span style=color:#a6e22e>c</span> <span style=color:#f92672>:=</span> make(<span style=color:#66d9ef>chan</span> []<span style=color:#a6e22e>extractedJob</span>)
	<span style=color:#a6e22e>totalPages</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>getPages</span>()

	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>totalPages</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
		<span style=color:#66d9ef>go</span> <span style=color:#a6e22e>getPage</span>(<span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>c</span>)
	}
	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>totalPages</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
		<span style=color:#a6e22e>extractJobs</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&lt;-</span><span style=color:#a6e22e>c</span>
		<span style=color:#a6e22e>jobs</span> = append(<span style=color:#a6e22e>jobs</span>, <span style=color:#a6e22e>extractJobs</span><span style=color:#f92672>...</span>)
	}

	<span style=color:#a6e22e>writeJons</span>(<span style=color:#a6e22e>jobs</span>)
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Done, extracted&#34;</span>, len(<span style=color:#a6e22e>jobs</span>))
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>getPage</span>(<span style=color:#a6e22e>page</span> <span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>mainC</span> <span style=color:#66d9ef>chan</span><span style=color:#f92672>&lt;-</span> []<span style=color:#a6e22e>extractedJob</span>) {
	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>jobs</span> []<span style=color:#a6e22e>extractedJob</span>
	<span style=color:#a6e22e>c</span> <span style=color:#f92672>:=</span> make(<span style=color:#66d9ef>chan</span> <span style=color:#a6e22e>extractedJob</span>)
	<span style=color:#a6e22e>pageURL</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>baseURL</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;&amp;start=&#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>strconv</span>.<span style=color:#a6e22e>Itoa</span>(<span style=color:#a6e22e>page</span><span style=color:#f92672>*</span><span style=color:#ae81ff>50</span>)
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Requesting :&#34;</span>, <span style=color:#a6e22e>pageURL</span>)
	<span style=color:#a6e22e>res</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>pageURL</span>)
	<span style=color:#a6e22e>checkErr</span>(<span style=color:#a6e22e>err</span>)
	<span style=color:#a6e22e>checkCode</span>(<span style=color:#a6e22e>res</span>)

	<span style=color:#66d9ef>defer</span> <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>Body</span>.<span style=color:#a6e22e>Close</span>()

	<span style=color:#a6e22e>doc</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>goquery</span>.<span style=color:#a6e22e>NewDocumentFromReader</span>(<span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>Body</span>)
	<span style=color:#a6e22e>checkErr</span>(<span style=color:#a6e22e>err</span>)

	<span style=color:#a6e22e>searchCards</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>doc</span>.<span style=color:#a6e22e>Find</span>(<span style=color:#e6db74>&#34;.jobsearch-SerpJobCard&#34;</span>)
	<span style=color:#a6e22e>searchCards</span>.<span style=color:#a6e22e>Each</span>(<span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>i</span> <span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>card</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>goquery</span>.<span style=color:#a6e22e>Selection</span>) {
		<span style=color:#66d9ef>go</span> <span style=color:#a6e22e>extractJob</span>(<span style=color:#a6e22e>card</span>, <span style=color:#a6e22e>c</span>)
	})

	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>searchCards</span>.<span style=color:#a6e22e>Length</span>(); <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
		<span style=color:#a6e22e>job</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&lt;-</span><span style=color:#a6e22e>c</span>
		<span style=color:#a6e22e>jobs</span> = append(<span style=color:#a6e22e>jobs</span>, <span style=color:#a6e22e>job</span>)
	}
	<span style=color:#a6e22e>mainC</span> <span style=color:#f92672>&lt;-</span> <span style=color:#a6e22e>jobs</span>
}

<span style=color:#75715e>// 카드에서 일자리 정보 추출
</span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>extractJob</span>(<span style=color:#a6e22e>card</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>goquery</span>.<span style=color:#a6e22e>Selection</span>, <span style=color:#a6e22e>c</span> <span style=color:#66d9ef>chan</span><span style=color:#f92672>&lt;-</span> <span style=color:#a6e22e>extractedJob</span>) {
	<span style=color:#a6e22e>id</span>, <span style=color:#a6e22e>_</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>card</span>.<span style=color:#a6e22e>Attr</span>(<span style=color:#e6db74>&#34;data-jk&#34;</span>)
	<span style=color:#a6e22e>title</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>cleanString</span>(<span style=color:#a6e22e>card</span>.<span style=color:#a6e22e>Find</span>(<span style=color:#e6db74>&#34;.title&gt;a&#34;</span>).<span style=color:#a6e22e>Text</span>())
	<span style=color:#a6e22e>location</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>cleanString</span>(<span style=color:#a6e22e>card</span>.<span style=color:#a6e22e>Find</span>(<span style=color:#e6db74>&#34;.sjcl&#34;</span>).<span style=color:#a6e22e>Text</span>())
	<span style=color:#a6e22e>salary</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>cleanString</span>(<span style=color:#a6e22e>card</span>.<span style=color:#a6e22e>Find</span>(<span style=color:#e6db74>&#34;.salaryText&#34;</span>).<span style=color:#a6e22e>Text</span>())
	<span style=color:#a6e22e>summary</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>cleanString</span>(<span style=color:#a6e22e>card</span>.<span style=color:#a6e22e>Find</span>(<span style=color:#e6db74>&#34;.summary&#34;</span>).<span style=color:#a6e22e>Text</span>())
	<span style=color:#a6e22e>c</span> <span style=color:#f92672>&lt;-</span> <span style=color:#a6e22e>extractedJob</span>{
		<span style=color:#a6e22e>id</span>:       <span style=color:#a6e22e>id</span>,
		<span style=color:#a6e22e>title</span>:    <span style=color:#a6e22e>title</span>,
		<span style=color:#a6e22e>location</span>: <span style=color:#a6e22e>location</span>,
		<span style=color:#a6e22e>salary</span>:   <span style=color:#a6e22e>salary</span>,
		<span style=color:#a6e22e>summary</span>:  <span style=color:#a6e22e>summary</span>,
	}
}

<span style=color:#75715e>// 데이터에서 공백 제거
</span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>cleanString</span>(<span style=color:#a6e22e>str</span> <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>string</span> {
	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>Join</span>(<span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>Fields</span>(<span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>TrimSpace</span>(<span style=color:#a6e22e>str</span>)), <span style=color:#e6db74>&#34; &#34;</span>)
}

<span style=color:#75715e>// 전체 페이지수 얻기
</span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>getPages</span>() <span style=color:#66d9ef>int</span> {
	<span style=color:#a6e22e>pages</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>
	<span style=color:#a6e22e>res</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>baseURL</span>)
	<span style=color:#a6e22e>checkErr</span>(<span style=color:#a6e22e>err</span>)
	<span style=color:#a6e22e>checkCode</span>(<span style=color:#a6e22e>res</span>)

	<span style=color:#66d9ef>defer</span> <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>Body</span>.<span style=color:#a6e22e>Close</span>()

	<span style=color:#a6e22e>doc</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>goquery</span>.<span style=color:#a6e22e>NewDocumentFromReader</span>(<span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>Body</span>)
	<span style=color:#a6e22e>checkErr</span>(<span style=color:#a6e22e>err</span>)

	<span style=color:#a6e22e>doc</span>.<span style=color:#a6e22e>Find</span>(<span style=color:#e6db74>&#34;.pagination&#34;</span>).<span style=color:#a6e22e>Each</span>(<span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>i</span> <span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>s</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>goquery</span>.<span style=color:#a6e22e>Selection</span>) {
		<span style=color:#a6e22e>pages</span> = <span style=color:#a6e22e>s</span>.<span style=color:#a6e22e>Find</span>(<span style=color:#e6db74>&#34;a&#34;</span>).<span style=color:#a6e22e>Length</span>()
	})

	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>pages</span>
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>writeJons</span>(<span style=color:#a6e22e>jobs</span> []<span style=color:#a6e22e>extractedJob</span>) {
	<span style=color:#a6e22e>file</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>os</span>.<span style=color:#a6e22e>Create</span>(<span style=color:#e6db74>&#34;jobs.csv&#34;</span>)
	<span style=color:#a6e22e>checkErr</span>(<span style=color:#a6e22e>err</span>)

	<span style=color:#a6e22e>w</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>csv</span>.<span style=color:#a6e22e>NewWriter</span>(<span style=color:#a6e22e>file</span>)
	<span style=color:#66d9ef>defer</span> <span style=color:#a6e22e>w</span>.<span style=color:#a6e22e>Flush</span>()

	<span style=color:#a6e22e>headers</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;Link&#34;</span>, <span style=color:#e6db74>&#34;Title&#34;</span>, <span style=color:#e6db74>&#34;Location&#34;</span>, <span style=color:#e6db74>&#34;Salary&#34;</span>, <span style=color:#e6db74>&#34;Summary&#34;</span>}

	<span style=color:#a6e22e>wErr</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>w</span>.<span style=color:#a6e22e>Write</span>(<span style=color:#a6e22e>headers</span>)
	<span style=color:#a6e22e>checkErr</span>(<span style=color:#a6e22e>wErr</span>)

	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>job</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>jobs</span> {
		<span style=color:#a6e22e>jobSclice</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;https://kr.indeed.com/viewjob?jk=&#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>job</span>.<span style=color:#a6e22e>id</span>, <span style=color:#a6e22e>job</span>.<span style=color:#a6e22e>title</span>, <span style=color:#a6e22e>job</span>.<span style=color:#a6e22e>location</span>, <span style=color:#a6e22e>job</span>.<span style=color:#a6e22e>salary</span>, <span style=color:#a6e22e>job</span>.<span style=color:#a6e22e>summary</span>}
		<span style=color:#a6e22e>jwErr</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>w</span>.<span style=color:#a6e22e>Write</span>(<span style=color:#a6e22e>jobSclice</span>)
		<span style=color:#a6e22e>checkErr</span>(<span style=color:#a6e22e>jwErr</span>)
	}
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>checkErr</span>(<span style=color:#a6e22e>err</span> <span style=color:#66d9ef>error</span>) {
	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
		<span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>Fatalln</span>(<span style=color:#a6e22e>err</span>)
	}
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>checkCode</span>(<span style=color:#a6e22e>res</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>Response</span>) {
	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>StatusCode</span> <span style=color:#f92672>!=</span> <span style=color:#ae81ff>200</span> {
		<span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>Fatalln</span>(<span style=color:#e6db74>&#34;Request failed with Status :&#34;</span>, <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>StatusCode</span>)
	}
}
</code></pre></div><h1 id=5-web-server-with-echo>5. WEB SERVER WITH ECHO</h1>
<h2 id=50-setup>5.0 Setup</h2>
<p>go echo 서버 만들기</p>
<p>라이브러리 설치</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>go get github.com/labstack/echo
</code></pre></div><p>main.go</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> (
	<span style=color:#e6db74>&#34;net/http&#34;</span>

	<span style=color:#e6db74>&#34;github.com/labstack/echo&#34;</span>
)

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>handleHome</span>(<span style=color:#a6e22e>c</span> <span style=color:#a6e22e>echo</span>.<span style=color:#a6e22e>Context</span>) <span style=color:#66d9ef>error</span> {
	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>String</span>(<span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>StatusOK</span>, <span style=color:#e6db74>&#34;Hello, World!&#34;</span>)
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>e</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>echo</span>.<span style=color:#a6e22e>New</span>()
	<span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>GET</span>(<span style=color:#e6db74>&#34;/&#34;</span>, <span style=color:#a6e22e>handleHome</span>)
	<span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>Logger</span>.<span style=color:#a6e22e>Fatal</span>(<span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>Start</span>(<span style=color:#e6db74>&#34;:1323&#34;</span>))
}
</code></pre></div><p><code>go run main.go</code> 실행 후</p>
<p>웹 브라우저에서 <code>localhost:1323</code> 접속시 접속되는 것을 확인</p>
<h2 id=51-scrapper-서버-생성>5.1 scrapper 서버 생성</h2>
<p><code>scrapper</code> 폴더 생성후 해당 폴더로 <code>main.go</code> 파일 이동후 아래와 같이 수정</p>
<ul>
<li>파일명 <code>main.go</code> -> <code>scrapper.go</code></li>
<li>패키지명 <code>package main</code> -> <code>package scrapper</code></li>
<li>함수명 <code>func main()</code> -> <code>func scrape</code></li>
</ul>
<p>scrapper/scrapper.go</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>scrapper</span>

<span style=color:#f92672>import</span> (
	<span style=color:#e6db74>&#34;encoding/csv&#34;</span>
	<span style=color:#e6db74>&#34;fmt&#34;</span>
	<span style=color:#e6db74>&#34;log&#34;</span>
	<span style=color:#e6db74>&#34;net/http&#34;</span>
	<span style=color:#e6db74>&#34;os&#34;</span>
	<span style=color:#e6db74>&#34;strconv&#34;</span>
	<span style=color:#e6db74>&#34;strings&#34;</span>

	<span style=color:#e6db74>&#34;github.com/PuerkitoBio/goquery&#34;</span>
)

<span style=color:#66d9ef>type</span> <span style=color:#a6e22e>extractedJob</span> <span style=color:#66d9ef>struct</span> {
	<span style=color:#a6e22e>id</span>       <span style=color:#66d9ef>string</span>
	<span style=color:#a6e22e>title</span>    <span style=color:#66d9ef>string</span>
	<span style=color:#a6e22e>location</span> <span style=color:#66d9ef>string</span>
	<span style=color:#a6e22e>salary</span>   <span style=color:#66d9ef>string</span>
	<span style=color:#a6e22e>summary</span>  <span style=color:#66d9ef>string</span>
}

<span style=color:#75715e>// Scrape Indeed by a term
</span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>Scrape</span>(<span style=color:#a6e22e>term</span> <span style=color:#66d9ef>string</span>) {
	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>baseURL</span> <span style=color:#66d9ef>string</span> = <span style=color:#e6db74>&#34;https://kr.indeed.com/jobs?q=&#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>term</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;&amp;limit=50&#34;</span>
	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>jobs</span> []<span style=color:#a6e22e>extractedJob</span>
	<span style=color:#a6e22e>c</span> <span style=color:#f92672>:=</span> make(<span style=color:#66d9ef>chan</span> []<span style=color:#a6e22e>extractedJob</span>)
	<span style=color:#a6e22e>totalPages</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>getPages</span>(<span style=color:#a6e22e>baseURL</span>)

	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>totalPages</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
		<span style=color:#66d9ef>go</span> <span style=color:#a6e22e>getPage</span>(<span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>baseURL</span>, <span style=color:#a6e22e>c</span>)
	}
	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>totalPages</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
		<span style=color:#a6e22e>extractJobs</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&lt;-</span><span style=color:#a6e22e>c</span>
		<span style=color:#a6e22e>jobs</span> = append(<span style=color:#a6e22e>jobs</span>, <span style=color:#a6e22e>extractJobs</span><span style=color:#f92672>...</span>)
	}

	<span style=color:#a6e22e>writeJobs</span>(<span style=color:#a6e22e>jobs</span>)
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Done, extracted&#34;</span>, len(<span style=color:#a6e22e>jobs</span>))
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>getPage</span>(<span style=color:#a6e22e>page</span> <span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>url</span> <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>mainC</span> <span style=color:#66d9ef>chan</span><span style=color:#f92672>&lt;-</span> []<span style=color:#a6e22e>extractedJob</span>) {
	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>jobs</span> []<span style=color:#a6e22e>extractedJob</span>
	<span style=color:#a6e22e>c</span> <span style=color:#f92672>:=</span> make(<span style=color:#66d9ef>chan</span> <span style=color:#a6e22e>extractedJob</span>)
	<span style=color:#a6e22e>pageURL</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>url</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;&amp;start=&#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>strconv</span>.<span style=color:#a6e22e>Itoa</span>(<span style=color:#a6e22e>page</span><span style=color:#f92672>*</span><span style=color:#ae81ff>50</span>)
	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Requesting :&#34;</span>, <span style=color:#a6e22e>pageURL</span>)
	<span style=color:#a6e22e>res</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>pageURL</span>)
	<span style=color:#a6e22e>checkErr</span>(<span style=color:#a6e22e>err</span>)
	<span style=color:#a6e22e>checkCode</span>(<span style=color:#a6e22e>res</span>)

	<span style=color:#66d9ef>defer</span> <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>Body</span>.<span style=color:#a6e22e>Close</span>()

	<span style=color:#a6e22e>doc</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>goquery</span>.<span style=color:#a6e22e>NewDocumentFromReader</span>(<span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>Body</span>)
	<span style=color:#a6e22e>checkErr</span>(<span style=color:#a6e22e>err</span>)

	<span style=color:#a6e22e>searchCards</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>doc</span>.<span style=color:#a6e22e>Find</span>(<span style=color:#e6db74>&#34;.jobsearch-SerpJobCard&#34;</span>)
	<span style=color:#a6e22e>searchCards</span>.<span style=color:#a6e22e>Each</span>(<span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>i</span> <span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>card</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>goquery</span>.<span style=color:#a6e22e>Selection</span>) {
		<span style=color:#66d9ef>go</span> <span style=color:#a6e22e>extractJob</span>(<span style=color:#a6e22e>card</span>, <span style=color:#a6e22e>c</span>)
	})

	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> &lt; <span style=color:#a6e22e>searchCards</span>.<span style=color:#a6e22e>Length</span>(); <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span> {
		<span style=color:#a6e22e>job</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&lt;-</span><span style=color:#a6e22e>c</span>
		<span style=color:#a6e22e>jobs</span> = append(<span style=color:#a6e22e>jobs</span>, <span style=color:#a6e22e>job</span>)
	}
	<span style=color:#a6e22e>mainC</span> <span style=color:#f92672>&lt;-</span> <span style=color:#a6e22e>jobs</span>
}

<span style=color:#75715e>// 카드에서 일자리 정보 추출
</span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>extractJob</span>(<span style=color:#a6e22e>card</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>goquery</span>.<span style=color:#a6e22e>Selection</span>, <span style=color:#a6e22e>c</span> <span style=color:#66d9ef>chan</span><span style=color:#f92672>&lt;-</span> <span style=color:#a6e22e>extractedJob</span>) {
	<span style=color:#a6e22e>id</span>, <span style=color:#a6e22e>_</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>card</span>.<span style=color:#a6e22e>Attr</span>(<span style=color:#e6db74>&#34;data-jk&#34;</span>)
	<span style=color:#a6e22e>title</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>CleanString</span>(<span style=color:#a6e22e>card</span>.<span style=color:#a6e22e>Find</span>(<span style=color:#e6db74>&#34;.title&gt;a&#34;</span>).<span style=color:#a6e22e>Text</span>())
	<span style=color:#a6e22e>location</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>CleanString</span>(<span style=color:#a6e22e>card</span>.<span style=color:#a6e22e>Find</span>(<span style=color:#e6db74>&#34;.sjcl&#34;</span>).<span style=color:#a6e22e>Text</span>())
	<span style=color:#a6e22e>salary</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>CleanString</span>(<span style=color:#a6e22e>card</span>.<span style=color:#a6e22e>Find</span>(<span style=color:#e6db74>&#34;.salaryText&#34;</span>).<span style=color:#a6e22e>Text</span>())
	<span style=color:#a6e22e>summary</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>CleanString</span>(<span style=color:#a6e22e>card</span>.<span style=color:#a6e22e>Find</span>(<span style=color:#e6db74>&#34;.summary&#34;</span>).<span style=color:#a6e22e>Text</span>())
	<span style=color:#a6e22e>c</span> <span style=color:#f92672>&lt;-</span> <span style=color:#a6e22e>extractedJob</span>{
		<span style=color:#a6e22e>id</span>:       <span style=color:#a6e22e>id</span>,
		<span style=color:#a6e22e>title</span>:    <span style=color:#a6e22e>title</span>,
		<span style=color:#a6e22e>location</span>: <span style=color:#a6e22e>location</span>,
		<span style=color:#a6e22e>salary</span>:   <span style=color:#a6e22e>salary</span>,
		<span style=color:#a6e22e>summary</span>:  <span style=color:#a6e22e>summary</span>,
	}
}

<span style=color:#75715e>// CleanString cleans a string
</span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>CleanString</span>(<span style=color:#a6e22e>str</span> <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>string</span> {
	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>Join</span>(<span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>Fields</span>(<span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>TrimSpace</span>(<span style=color:#a6e22e>str</span>)), <span style=color:#e6db74>&#34; &#34;</span>)
}

<span style=color:#75715e>// 전체 페이지수 얻기
</span><span style=color:#75715e></span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>getPages</span>(<span style=color:#a6e22e>url</span> <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>int</span> {
	<span style=color:#a6e22e>pages</span> <span style=color:#f92672>:=</span> <span style=color:#ae81ff>0</span>
	<span style=color:#a6e22e>res</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>Get</span>(<span style=color:#a6e22e>url</span>)
	<span style=color:#a6e22e>checkErr</span>(<span style=color:#a6e22e>err</span>)
	<span style=color:#a6e22e>checkCode</span>(<span style=color:#a6e22e>res</span>)

	<span style=color:#66d9ef>defer</span> <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>Body</span>.<span style=color:#a6e22e>Close</span>()

	<span style=color:#a6e22e>doc</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>goquery</span>.<span style=color:#a6e22e>NewDocumentFromReader</span>(<span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>Body</span>)
	<span style=color:#a6e22e>checkErr</span>(<span style=color:#a6e22e>err</span>)

	<span style=color:#a6e22e>doc</span>.<span style=color:#a6e22e>Find</span>(<span style=color:#e6db74>&#34;.pagination&#34;</span>).<span style=color:#a6e22e>Each</span>(<span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>i</span> <span style=color:#66d9ef>int</span>, <span style=color:#a6e22e>s</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>goquery</span>.<span style=color:#a6e22e>Selection</span>) {
		<span style=color:#a6e22e>pages</span> = <span style=color:#a6e22e>s</span>.<span style=color:#a6e22e>Find</span>(<span style=color:#e6db74>&#34;a&#34;</span>).<span style=color:#a6e22e>Length</span>()
	})

	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>pages</span>
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>writeJobs</span>(<span style=color:#a6e22e>jobs</span> []<span style=color:#a6e22e>extractedJob</span>) {
	<span style=color:#a6e22e>file</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>os</span>.<span style=color:#a6e22e>Create</span>(<span style=color:#e6db74>&#34;jobs.csv&#34;</span>)
	<span style=color:#a6e22e>checkErr</span>(<span style=color:#a6e22e>err</span>)

	<span style=color:#a6e22e>w</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>csv</span>.<span style=color:#a6e22e>NewWriter</span>(<span style=color:#a6e22e>file</span>)
	<span style=color:#66d9ef>defer</span> <span style=color:#a6e22e>w</span>.<span style=color:#a6e22e>Flush</span>()

	<span style=color:#a6e22e>headers</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;Link&#34;</span>, <span style=color:#e6db74>&#34;Title&#34;</span>, <span style=color:#e6db74>&#34;Location&#34;</span>, <span style=color:#e6db74>&#34;Salary&#34;</span>, <span style=color:#e6db74>&#34;Summary&#34;</span>}

	<span style=color:#a6e22e>wErr</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>w</span>.<span style=color:#a6e22e>Write</span>(<span style=color:#a6e22e>headers</span>)
	<span style=color:#a6e22e>checkErr</span>(<span style=color:#a6e22e>wErr</span>)

	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>job</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>jobs</span> {
		<span style=color:#a6e22e>jobSclice</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;https://kr.indeed.com/viewjob?jk=&#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>job</span>.<span style=color:#a6e22e>id</span>, <span style=color:#a6e22e>job</span>.<span style=color:#a6e22e>title</span>, <span style=color:#a6e22e>job</span>.<span style=color:#a6e22e>location</span>, <span style=color:#a6e22e>job</span>.<span style=color:#a6e22e>salary</span>, <span style=color:#a6e22e>job</span>.<span style=color:#a6e22e>summary</span>}
		<span style=color:#a6e22e>jwErr</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>w</span>.<span style=color:#a6e22e>Write</span>(<span style=color:#a6e22e>jobSclice</span>)
		<span style=color:#a6e22e>checkErr</span>(<span style=color:#a6e22e>jwErr</span>)
	}
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>checkErr</span>(<span style=color:#a6e22e>err</span> <span style=color:#66d9ef>error</span>) {
	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
		<span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>Fatalln</span>(<span style=color:#a6e22e>err</span>)
	}
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>checkCode</span>(<span style=color:#a6e22e>res</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>Response</span>) {
	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>StatusCode</span> <span style=color:#f92672>!=</span> <span style=color:#ae81ff>200</span> {
		<span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>Fatalln</span>(<span style=color:#e6db74>&#34;Request failed with Status :&#34;</span>, <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>StatusCode</span>)
	}
}
</code></pre></div><p>main.go</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> (
	<span style=color:#e6db74>&#34;strings&#34;</span>

	<span style=color:#e6db74>&#34;github.com/SangjunCha-dev/learngo/scrapper&#34;</span>
	<span style=color:#e6db74>&#34;github.com/labstack/echo&#34;</span>
)

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>handleHome</span>(<span style=color:#a6e22e>c</span> <span style=color:#a6e22e>echo</span>.<span style=color:#a6e22e>Context</span>) <span style=color:#66d9ef>error</span> {
	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>File</span>(<span style=color:#e6db74>&#34;home.html&#34;</span>)
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>handleScrape</span>(<span style=color:#a6e22e>c</span> <span style=color:#a6e22e>echo</span>.<span style=color:#a6e22e>Context</span>) <span style=color:#66d9ef>error</span> {
	<span style=color:#a6e22e>term</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>ToLower</span>(<span style=color:#a6e22e>scrapper</span>.<span style=color:#a6e22e>CleanString</span>(<span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>FormValue</span>(<span style=color:#e6db74>&#34;term&#34;</span>)))
	<span style=color:#a6e22e>scrapper</span>.<span style=color:#a6e22e>Scrape</span>(<span style=color:#a6e22e>term</span>)
	<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>e</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>echo</span>.<span style=color:#a6e22e>New</span>()
	<span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>GET</span>(<span style=color:#e6db74>&#34;/&#34;</span>, <span style=color:#a6e22e>handleHome</span>)
	<span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>POST</span>(<span style=color:#e6db74>&#34;/scrape&#34;</span>, <span style=color:#a6e22e>handleScrape</span>)
	<span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>Logger</span>.<span style=color:#a6e22e>Fatal</span>(<span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>Start</span>(<span style=color:#e6db74>&#34;:1323&#34;</span>))
}
</code></pre></div><p>home.html 파일 생성</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=color:#75715e>&lt;!DOCTYPE html&gt;</span>
&lt;<span style=color:#f92672>html</span>&gt;
&lt;<span style=color:#f92672>head</span>&gt;
    &lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>charset</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;UTF-8&#34;</span>&gt;
    &lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;viewport&#34;</span> <span style=color:#a6e22e>content</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;width=device-width, initial-scale=1.0&#34;</span>&gt;
    &lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>http-equiv</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;X-UA-Compatible&#34;</span> <span style=color:#a6e22e>content</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;ie=edge&#34;</span>&gt;
    &lt;<span style=color:#f92672>title</span>&gt;Go Jobs&lt;/<span style=color:#f92672>title</span>&gt;
&lt;/<span style=color:#f92672>head</span>&gt;
    &lt;<span style=color:#f92672>h1</span>&gt;Go Jobs&lt;/<span style=color:#f92672>h1</span>&gt;
    &lt;<span style=color:#f92672>h3</span>&gt;Indeed.com scrapper&lt;/<span style=color:#f92672>h3</span>&gt;
    &lt;<span style=color:#f92672>form</span> <span style=color:#a6e22e>method</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;POST&#34;</span> <span style=color:#a6e22e>action</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/scrape&#34;</span>&gt;
        &lt;<span style=color:#f92672>input</span> <span style=color:#a6e22e>placeholder</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;what job do you want&#34;</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;term&#34;</span>/&gt;
        &lt;<span style=color:#f92672>button</span>&gt;Search&lt;/<span style=color:#f92672>button</span>&gt;
    &lt;/<span style=color:#f92672>form</span>&gt;
&lt;/<span style=color:#f92672>html</span>&gt;
</code></pre></div><h2 id=52-file-download>5.2 File Download</h2>
<p>return c.Attachment(filename1, filename2) : filename1 파일 찾아서 filename2 이름으로 다운로드</p>
<p>main.go</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>

<span style=color:#f92672>import</span> (
	<span style=color:#e6db74>&#34;os&#34;</span>
	<span style=color:#e6db74>&#34;strings&#34;</span>

	<span style=color:#e6db74>&#34;github.com/SangjunCha-dev/learngo/scrapper&#34;</span>
	<span style=color:#e6db74>&#34;github.com/labstack/echo&#34;</span>
)

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>fileName</span> <span style=color:#66d9ef>string</span> = <span style=color:#e6db74>&#34;jobs.csv&#34;</span>

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>handleHome</span>(<span style=color:#a6e22e>c</span> <span style=color:#a6e22e>echo</span>.<span style=color:#a6e22e>Context</span>) <span style=color:#66d9ef>error</span> {
	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>File</span>(<span style=color:#e6db74>&#34;home.html&#34;</span>)
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>handleScrape</span>(<span style=color:#a6e22e>c</span> <span style=color:#a6e22e>echo</span>.<span style=color:#a6e22e>Context</span>) <span style=color:#66d9ef>error</span> {
	<span style=color:#66d9ef>defer</span> <span style=color:#a6e22e>os</span>.<span style=color:#a6e22e>Remove</span>(<span style=color:#a6e22e>fileName</span>)
	<span style=color:#a6e22e>term</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>ToLower</span>(<span style=color:#a6e22e>scrapper</span>.<span style=color:#a6e22e>CleanString</span>(<span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>FormValue</span>(<span style=color:#e6db74>&#34;term&#34;</span>)))
	<span style=color:#a6e22e>scrapper</span>.<span style=color:#a6e22e>Scrape</span>(<span style=color:#a6e22e>term</span>)
	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>Attachment</span>(<span style=color:#a6e22e>fileName</span>, <span style=color:#a6e22e>fileName</span>)
}

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
	<span style=color:#a6e22e>e</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>echo</span>.<span style=color:#a6e22e>New</span>()
	<span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>GET</span>(<span style=color:#e6db74>&#34;/&#34;</span>, <span style=color:#a6e22e>handleHome</span>)
	<span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>POST</span>(<span style=color:#e6db74>&#34;/scrape&#34;</span>, <span style=color:#a6e22e>handleScrape</span>)
	<span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>Logger</span>.<span style=color:#a6e22e>Fatal</span>(<span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>Start</span>(<span style=color:#e6db74>&#34;:1323&#34;</span>))
}
</code></pre></div><p><a href=https://gobuffalo.io/en/>buffalo</a> - django의 go버전 프레임워크</p>
<p>db, template, api, server, logger, orm 등 모든 것이 있는 풀스택 프레임워크</p>
<p>라우팅, hot code reload, 프론트엔드 파이프라인, 모델, 테스트 등 기능 지원</p>
</div>
<div class="row pl-3 pr-3">
<div class="col-md-6 share-buttons">
</div>
<div class="col-md-6 btn-improve-page">
<a href=https://github.com/SangjunCha-dev/sangjuncha-dev.github.io/edit/main/content/posts/programming/golang/2021-02-22-Go-for-beginners-lectures.md title="이 페이지를 개선" target=_blank rel=noopener>
<i class="fas fa-code-branch"></i>
이 페이지를 개선
</a>
</div>
</div>
<hr>
<div class="row next-prev-navigator">
<div class="col-md-6 previous-article">
<a href=/posts/programming/golang/2021-07-29-golang-gopacket/ title="golang gopacket 라이브러리를 이용한 통신" class="btn btn-outline-info">
<div><i class="fas fa-chevron-circle-left"></i> 이전</div>
<div class=next-prev-text>golang gopacket 라이브러리를 이용한 통신</div>
</a>
</div>
<div class="col-md-6 next-article">
<a href=/posts/programming/python/2020-11-05-python-magic-guide/ title="libmagic 라이브러리 사용법 (libmagic Library Guide)" class="btn btn-outline-info">
<div>다음 <i class="fas fa-chevron-circle-right"></i></div>
<div class=next-prev-text>libmagic 라이브러리 사용법 (libmagic Library Guide)</div>
</a>
</div>
</div>
<hr>
</div>
</div>
</div>
<a id=scroll-to-top class=btn><i class="fas fa-chevron-circle-up"></i></a>
</section>
<section class=toc-section id=toc-section>
<div class=toc-holder>
<h5 class="text-center pl-3">목차</h5>
<hr>
<div class=toc>
<nav id=TableOfContents>
<ul>
<li><a href=#01-설치>0.1. 설치</a></li>
<li><a href=#02-설정>0.2. 설정</a></li>
</ul>
<ul>
<li><a href=#10-main-package>1.0. Main Package</a></li>
<li><a href=#11-packages-and-imports>1.1. Packages and Imports</a></li>
<li><a href=#12-변수와-상수variables-and-constants>1.2. 변수와 상수(Variables and Constants)</a></li>
<li><a href=#13-함수functions>1.3. 함수(Functions)</a></li>
<li><a href=#14-for-range-args>1.4. for, range, args</a></li>
<li><a href=#15-if-with-a-twist>1.5. If with a Twist</a></li>
<li><a href=#16-switch>1.6. Switch</a></li>
<li><a href=#17-pointers>1.7 Pointers</a></li>
<li><a href=#18-arrays-and-slices>1.8 Arrays and Slices</a></li>
<li><a href=#19-maps>1.9 Maps</a></li>
<li><a href=#110-structs>1.10 Structs</a></li>
</ul>
<ul>
<li><a href=#20-account--newaccount>2.0 Account + NewAccount</a>
<ul>
<li><a href=#201-pubilc>2.0.1 pubilc</a></li>
<li><a href=#202-private>2.0.2 private</a></li>
</ul>
</li>
<li><a href=#21-methods>2.1 Methods</a>
<ul>
<li><a href=#211-receivermethod-설정>2.1.1 receiver(method 설정)</a></li>
<li><a href=#212-pointer-receiver>2.1.2 Pointer receiver</a></li>
<li><a href=#213-error-handling>2.1.3 error handling</a></li>
</ul>
</li>
<li><a href=#22-finishing-up>2.2 Finishing Up</a></li>
<li><a href=#23-dictionary>2.3 Dictionary</a>
<ul>
<li><a href=#231-search>2.3.1 Search</a></li>
<li><a href=#232-add>2.3.2 Add</a></li>
<li><a href=#233-update-delete>2.3.3 Update Delete</a></li>
</ul>
</li>
</ul>
<ul>
<li><a href=#30-hiturl>3.0 hitURL</a></li>
<li><a href=#31-slow-urlchecker>3.1 Slow URLChecker</a></li>
<li><a href=#32-goroutines>3.2 Goroutines</a></li>
<li><a href=#33-channels>3.3 Channels</a></li>
<li><a href=#34-channels-recap>3.4 Channels Recap</a></li>
<li><a href=#35-urlchecker--go-routines>3.5 URLChecker + Go Routines</a></li>
</ul>
<ul>
<li><a href=#40-getpages>4.0 getPages</a></li>
<li><a href=#41-extractjob>4.1 extractJob</a></li>
<li><a href=#42-writing-jobs>4.2 Writing Jobs</a></li>
<li><a href=#43-channels-time>4.3 Channels Time</a></li>
</ul>
<ul>
<li><a href=#50-setup>5.0 Setup</a></li>
<li><a href=#51-scrapper-서버-생성>5.1 scrapper 서버 생성</a></li>
<li><a href=#52-file-download>5.2 File Download</a></li>
</ul>
</nav>
</div>
</div>
</section>
</div>
<footer class="container-fluid text-center align-content-center footer pb-2">
<div class="container pt-5">
<div class="row text-left">
<div class="col-md-4 col-sm-12">
<h5>바로가기</h5>
<ul>
<li class=nav-item>
<a class=smooth-scroll href=https://sangjuncha-dev.github.io#about>About</a>
</li>
<li class=nav-item>
<a class=smooth-scroll href=https://sangjuncha-dev.github.io#skills>Skills</a>
</li>
<li class=nav-item>
<a class=smooth-scroll href=https://sangjuncha-dev.github.io#recent-posts>Recent Posts</a>
</li>
</ul>
</div>
<div class="col-md-4 col-sm-12">
<h5>Contact me:</h5>
<ul>
<li><a href=mailto:sangjuncha.dev@gmail.com target=_blank rel=noopener>
<span><i class="fas fa-envelope"></i></span> <span>sangjuncha.dev@gmail.com</span>
</a></li>
</ul>
</div>
</div>
</div>
<hr>
<div class=container>
<div class="row text-left">
<div class=col-md-4>
<a id=theme href=https://github.com/hossainemruz/toha target=_blank rel=noopener>
<img src=/images/theme-logo_hu8376fd15465fef26ffe66b6bcf0ca686_13669_32x0_resize_box_3.png alt="Toha Theme Logo">
Toha
</a>
</div>
<div class="col-md-4 text-center">© 2020 Copyright.</div>
<div class="col-md-4 text-right">
<a id=hugo href=https://gohugo.io/ target=_blank rel=noopener>Powered by
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18>
</a>
</div>
</div>
</div>
</footer>
<script type=text/javascript src=/js/jquery-3.4.1.min.js></script>
<script type=text/javascript src=/js/popper.min.js></script>
<script type=text/javascript src=/js/bootstrap.min.js></script>
<script type=text/javascript src=/js/navbar.js></script>
<script type=text/javascript src=/js/plyr.js></script>
<script type=text/javascript src=/js/main.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js></script>
<script src=/js/single.js></script>
<script>hljs.initHighlightingOnLoad()</script>
</body>
</html>